var BigBang=function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p="",b(0)}([function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=(c(1),c(7)),i=c(32),j=function(a){function b(a){return d(this,b),e(this,Object.getPrototypeOf(b).call(this,a))}return f(b,a),g(b,[{key:"connect",value:function(a){var b=this,c=this.parseUrl(this._appUrl),d=c.host;d+=":"+c.port;var e=null,f=null;this.internalLogin(c.protocol,d,e,f,d,function(e){if(e.authenticated)b.internalConnect(c.protocol,d,e.clientKey,a);else{var f=new h.ConnectionError(e.message);a(f)}})}},{key:"connectAsDevice",value:function(a,b,c){var d=this,e=this.parseUrl(this._appUrl),f=e.host;f+=":"+e.port,this.authenticateDevice(a,b,function(b,g){return b?void c(b):g.authenticated?(d._deviceId=a,void d.internalConnect(e.protocol,f,g.clientKey,c)):void c(b)})}},{key:"internalLogin",value:function(a,b,c,d,e,f){c||d?this.authUser(c,d,f):this.authAnon(f)}},{key:"internalConnect",value:function(a,b,c,d){var e=this;this._clientKey=c;var f=!1;this._deviceId?this._internalConnectionResult=function(a){e.getDeviceChannel(function(b){return f?void 0:a.success?(f=!0,void d(null)):(f=!0,void d(new h.ConnectionError(a.failureMessage)))})}:this._internalConnectionResult=function(a){return a.success?void d(null):void d(new h.ConnectionError(a.failureMessage))};var g;g="https"===a?"https://"+b+"/sjs":"http://"+b+"/sjs",this.socket=new i(g),this.socket.onopen=function(a){setTimeout(function(){e.onConnect()},0)},this.socket.onmessage=function(a){var b=a.data.toString();e.onReceiveText(b)},this.socket.onclose=function(a){e.emit("disconnected",!1)}}},{key:"sendToServer",value:function(a){var b=this.wireProtocol.wrapNetstring(a);this.socket?this.socket.send(b):console.error("Send while socket is null.")}},{key:"onDisconnect",value:function(a){a||(this.socket.onclose=null),this.socket.close()}}]),b}(h.AbstractBigBangClient);a.exports={Client:j}},function(a,b,c){function d(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function e(a,b,c){if(a&&j(a)&&a instanceof d)return a;var e=new d;return e.parse(a,b,c),e}function f(a){return i(a)&&(a=e(a)),a instanceof d?a.format():d.prototype.format.call(a)}function g(a,b){return e(a,!1,!0).resolve(b)}function h(a,b){return a?e(a,!1,!0).resolveObject(b):b}function i(a){return"string"==typeof a}function j(a){return"object"==typeof a&&null!==a}function k(a){return null===a}function l(a){return null==a}var m=c(2);b.parse=e,b.resolve=g,b.resolveObject=h,b.format=f,b.Url=d;var n=/^([a-z0-9.+-]+:)/i,o=/:[0-9]*$/,p=["<",">",'"',"`"," ","\r","\n","	"],q=["{","}","|","\\","^","`"].concat(p),r=["'"].concat(q),s=["%","/","?",";","#"].concat(r),t=["/","?","#"],u=255,v=/^[a-z0-9A-Z_-]{0,63}$/,w=/^([a-z0-9A-Z_-]{0,63})(.*)$/,x={javascript:!0,"javascript:":!0},y={javascript:!0,"javascript:":!0},z={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},A=c(4);d.prototype.parse=function(a,b,c){if(!i(a))throw new TypeError("Parameter 'url' must be a string, not "+typeof a);var d=a;d=d.trim();var e=n.exec(d);if(e){e=e[0];var f=e.toLowerCase();this.protocol=f,d=d.substr(e.length)}if(c||e||d.match(/^\/\/[^@\/]+@[^@\/]+/)){var g="//"===d.substr(0,2);!g||e&&y[e]||(d=d.substr(2),this.slashes=!0)}if(!y[e]&&(g||e&&!z[e])){for(var h=-1,j=0;j<t.length;j++){var k=d.indexOf(t[j]);-1!==k&&(-1===h||h>k)&&(h=k)}var l,o;o=-1===h?d.lastIndexOf("@"):d.lastIndexOf("@",h),-1!==o&&(l=d.slice(0,o),d=d.slice(o+1),this.auth=decodeURIComponent(l)),h=-1;for(var j=0;j<s.length;j++){var k=d.indexOf(s[j]);-1!==k&&(-1===h||h>k)&&(h=k)}-1===h&&(h=d.length),this.host=d.slice(0,h),d=d.slice(h),this.parseHost(),this.hostname=this.hostname||"";var p="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!p)for(var q=this.hostname.split(/\./),j=0,B=q.length;B>j;j++){var C=q[j];if(C&&!C.match(v)){for(var D="",E=0,F=C.length;F>E;E++)D+=C.charCodeAt(E)>127?"x":C[E];if(!D.match(v)){var G=q.slice(0,j),H=q.slice(j+1),I=C.match(w);I&&(G.push(I[1]),H.unshift(I[2])),H.length&&(d="/"+H.join(".")+d),this.hostname=G.join(".");break}}}if(this.hostname.length>u?this.hostname="":this.hostname=this.hostname.toLowerCase(),!p){for(var J=this.hostname.split("."),K=[],j=0;j<J.length;++j){var L=J[j];K.push(L.match(/[^A-Za-z0-9_-]/)?"xn--"+m.encode(L):L)}this.hostname=K.join(".")}var M=this.port?":"+this.port:"",N=this.hostname||"";this.host=N+M,this.href+=this.host,p&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==d[0]&&(d="/"+d))}if(!x[f])for(var j=0,B=r.length;B>j;j++){var O=r[j],P=encodeURIComponent(O);P===O&&(P=escape(O)),d=d.split(O).join(P)}var Q=d.indexOf("#");-1!==Q&&(this.hash=d.substr(Q),d=d.slice(0,Q));var R=d.indexOf("?");if(-1!==R?(this.search=d.substr(R),this.query=d.substr(R+1),b&&(this.query=A.parse(this.query)),d=d.slice(0,R)):b&&(this.search="",this.query={}),d&&(this.pathname=d),z[f]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var M=this.pathname||"",L=this.search||"";this.path=M+L}return this.href=this.format(),this},d.prototype.format=function(){var a=this.auth||"";a&&(a=encodeURIComponent(a),a=a.replace(/%3A/i,":"),a+="@");var b=this.protocol||"",c=this.pathname||"",d=this.hash||"",e=!1,f="";this.host?e=a+this.host:this.hostname&&(e=a+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(e+=":"+this.port)),this.query&&j(this.query)&&Object.keys(this.query).length&&(f=A.stringify(this.query));var g=this.search||f&&"?"+f||"";return b&&":"!==b.substr(-1)&&(b+=":"),this.slashes||(!b||z[b])&&e!==!1?(e="//"+(e||""),c&&"/"!==c.charAt(0)&&(c="/"+c)):e||(e=""),d&&"#"!==d.charAt(0)&&(d="#"+d),g&&"?"!==g.charAt(0)&&(g="?"+g),c=c.replace(/[?#]/g,function(a){return encodeURIComponent(a)}),g=g.replace("#","%23"),b+e+c+g+d},d.prototype.resolve=function(a){return this.resolveObject(e(a,!1,!0)).format()},d.prototype.resolveObject=function(a){if(i(a)){var b=new d;b.parse(a,!1,!0),a=b}var c=new d;if(Object.keys(this).forEach(function(a){c[a]=this[a]},this),c.hash=a.hash,""===a.href)return c.href=c.format(),c;if(a.slashes&&!a.protocol)return Object.keys(a).forEach(function(b){"protocol"!==b&&(c[b]=a[b])}),z[c.protocol]&&c.hostname&&!c.pathname&&(c.path=c.pathname="/"),c.href=c.format(),c;if(a.protocol&&a.protocol!==c.protocol){if(!z[a.protocol])return Object.keys(a).forEach(function(b){c[b]=a[b]}),c.href=c.format(),c;if(c.protocol=a.protocol,a.host||y[a.protocol])c.pathname=a.pathname;else{for(var e=(a.pathname||"").split("/");e.length&&!(a.host=e.shift()););a.host||(a.host=""),a.hostname||(a.hostname=""),""!==e[0]&&e.unshift(""),e.length<2&&e.unshift(""),c.pathname=e.join("/")}if(c.search=a.search,c.query=a.query,c.host=a.host||"",c.auth=a.auth,c.hostname=a.hostname||a.host,c.port=a.port,c.pathname||c.search){var f=c.pathname||"",g=c.search||"";c.path=f+g}return c.slashes=c.slashes||a.slashes,c.href=c.format(),c}var h=c.pathname&&"/"===c.pathname.charAt(0),j=a.host||a.pathname&&"/"===a.pathname.charAt(0),m=j||h||c.host&&a.pathname,n=m,o=c.pathname&&c.pathname.split("/")||[],e=a.pathname&&a.pathname.split("/")||[],p=c.protocol&&!z[c.protocol];if(p&&(c.hostname="",c.port=null,c.host&&(""===o[0]?o[0]=c.host:o.unshift(c.host)),c.host="",a.protocol&&(a.hostname=null,a.port=null,a.host&&(""===e[0]?e[0]=a.host:e.unshift(a.host)),a.host=null),m=m&&(""===e[0]||""===o[0])),j)c.host=a.host||""===a.host?a.host:c.host,c.hostname=a.hostname||""===a.hostname?a.hostname:c.hostname,c.search=a.search,c.query=a.query,o=e;else if(e.length)o||(o=[]),o.pop(),o=o.concat(e),c.search=a.search,c.query=a.query;else if(!l(a.search)){if(p){c.hostname=c.host=o.shift();var q=c.host&&c.host.indexOf("@")>0?c.host.split("@"):!1;q&&(c.auth=q.shift(),c.host=c.hostname=q.shift())}return c.search=a.search,c.query=a.query,k(c.pathname)&&k(c.search)||(c.path=(c.pathname?c.pathname:"")+(c.search?c.search:"")),c.href=c.format(),c}if(!o.length)return c.pathname=null,c.search?c.path="/"+c.search:c.path=null,c.href=c.format(),c;for(var r=o.slice(-1)[0],s=(c.host||a.host)&&("."===r||".."===r)||""===r,t=0,u=o.length;u>=0;u--)r=o[u],"."==r?o.splice(u,1):".."===r?(o.splice(u,1),t++):t&&(o.splice(u,1),t--);if(!m&&!n)for(;t--;t)o.unshift("..");!m||""===o[0]||o[0]&&"/"===o[0].charAt(0)||o.unshift(""),s&&"/"!==o.join("/").substr(-1)&&o.push("");var v=""===o[0]||o[0]&&"/"===o[0].charAt(0);if(p){c.hostname=c.host=v?"":o.length?o.shift():"";var q=c.host&&c.host.indexOf("@")>0?c.host.split("@"):!1;q&&(c.auth=q.shift(),c.host=c.hostname=q.shift())}return m=m||c.host&&o.length,m&&!v&&o.unshift(""),o.length?c.pathname=o.join("/"):(c.pathname=null,c.path=null),k(c.pathname)&&k(c.search)||(c.path=(c.pathname?c.pathname:"")+(c.search?c.search:"")),c.auth=a.auth||c.auth,c.slashes=c.slashes||a.slashes,c.href=c.format(),c},d.prototype.parseHost=function(){var a=this.host,b=o.exec(a);b&&(b=b[0],":"!==b&&(this.port=b.substr(1)),a=a.substr(0,a.length-b.length)),a&&(this.hostname=a)}},function(a,b,c){var d;(function(a,e){!function(f){function g(a){throw RangeError(G[a])}function h(a,b){for(var c=a.length,d=[];c--;)d[c]=b(a[c]);return d}function i(a,b){var c=a.split("@"),d="";c.length>1&&(d=c[0]+"@",a=c[1]),a=a.replace(F,".");var e=a.split("."),f=h(e,b).join(".");return d+f}function j(a){for(var b,c,d=[],e=0,f=a.length;f>e;)b=a.charCodeAt(e++),b>=55296&&56319>=b&&f>e?(c=a.charCodeAt(e++),56320==(64512&c)?d.push(((1023&b)<<10)+(1023&c)+65536):(d.push(b),e--)):d.push(b);return d}function k(a){return h(a,function(a){var b="";return a>65535&&(a-=65536,b+=J(a>>>10&1023|55296),a=56320|1023&a),b+=J(a)}).join("")}function l(a){return 10>a-48?a-22:26>a-65?a-65:26>a-97?a-97:v}function m(a,b){return a+22+75*(26>a)-((0!=b)<<5)}function n(a,b,c){var d=0;for(a=c?I(a/z):a>>1,a+=I(a/b);a>H*x>>1;d+=v)a=I(a/H);return I(d+(H+1)*a/(a+y))}function o(a){var b,c,d,e,f,h,i,j,m,o,p=[],q=a.length,r=0,s=B,t=A;for(c=a.lastIndexOf(C),0>c&&(c=0),d=0;c>d;++d)a.charCodeAt(d)>=128&&g("not-basic"),p.push(a.charCodeAt(d));for(e=c>0?c+1:0;q>e;){for(f=r,h=1,i=v;e>=q&&g("invalid-input"),j=l(a.charCodeAt(e++)),(j>=v||j>I((u-r)/h))&&g("overflow"),r+=j*h,m=t>=i?w:i>=t+x?x:i-t,!(m>j);i+=v)o=v-m,h>I(u/o)&&g("overflow"),h*=o;b=p.length+1,t=n(r-f,b,0==f),I(r/b)>u-s&&g("overflow"),s+=I(r/b),r%=b,p.splice(r++,0,s)}return k(p)}function p(a){var b,c,d,e,f,h,i,k,l,o,p,q,r,s,t,y=[];for(a=j(a),q=a.length,b=B,c=0,f=A,h=0;q>h;++h)p=a[h],128>p&&y.push(J(p));for(d=e=y.length,e&&y.push(C);q>d;){for(i=u,h=0;q>h;++h)p=a[h],p>=b&&i>p&&(i=p);for(r=d+1,i-b>I((u-c)/r)&&g("overflow"),c+=(i-b)*r,b=i,h=0;q>h;++h)if(p=a[h],b>p&&++c>u&&g("overflow"),p==b){for(k=c,l=v;o=f>=l?w:l>=f+x?x:l-f,!(o>k);l+=v)t=k-o,s=v-o,y.push(J(m(o+t%s,0))),k=I(t/s);y.push(J(m(k,0))),f=n(c,r,d==e),c=0,++d}++c,++b}return y.join("")}function q(a){return i(a,function(a){return D.test(a)?o(a.slice(4).toLowerCase()):a})}function r(a){return i(a,function(a){return E.test(a)?"xn--"+p(a):a})}var s=("object"==typeof b&&b&&!b.nodeType&&b,"object"==typeof a&&a&&!a.nodeType&&a,"object"==typeof e&&e);s.global!==s&&s.window!==s&&s.self!==s||(f=s);var t,u=2147483647,v=36,w=1,x=26,y=38,z=700,A=72,B=128,C="-",D=/^xn--/,E=/[^\x20-\x7E]/,F=/[\x2E\u3002\uFF0E\uFF61]/g,G={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},H=v-w,I=Math.floor,J=String.fromCharCode;t={version:"1.3.2",ucs2:{decode:j,encode:k},decode:o,encode:p,toASCII:r,toUnicode:q},d=function(){return t}.call(b,c,b,a),!(void 0!==d&&(a.exports=d))}(this)}).call(b,c(3)(a),function(){return this}())},function(a,b){a.exports=function(a){return a.webpackPolyfill||(a.deprecate=function(){},a.paths=[],a.children=[],a.webpackPolyfill=1),a}},function(a,b,c){"use strict";b.decode=b.parse=c(5),b.encode=b.stringify=c(6)},function(a,b){"use strict";function c(a,b){return Object.prototype.hasOwnProperty.call(a,b)}a.exports=function(a,b,d,e){b=b||"&",d=d||"=";var f={};if("string"!=typeof a||0===a.length)return f;var g=/\+/g;a=a.split(b);var h=1e3;e&&"number"==typeof e.maxKeys&&(h=e.maxKeys);var i=a.length;h>0&&i>h&&(i=h);for(var j=0;i>j;++j){var k,l,m,n,o=a[j].replace(g,"%20"),p=o.indexOf(d);p>=0?(k=o.substr(0,p),l=o.substr(p+1)):(k=o,l=""),m=decodeURIComponent(k),n=decodeURIComponent(l),c(f,m)?Array.isArray(f[m])?f[m].push(n):f[m]=[f[m],n]:f[m]=n}return f}},function(a,b){"use strict";var c=function(a){switch(typeof a){case"string":return a;case"boolean":return a?"true":"false";case"number":return isFinite(a)?a:"";default:return""}};a.exports=function(a,b,d,e){return b=b||"&",d=d||"=",null===a&&(a=void 0),"object"==typeof a?Object.keys(a).map(function(e){var f=encodeURIComponent(c(e))+d;return Array.isArray(a[e])?a[e].map(function(a){return f+encodeURIComponent(c(a))}).join(b):f+encodeURIComponent(c(a[e]))}).join(b):e?encodeURIComponent(c(e))+d+encodeURIComponent(c(a)):""}},function(a,b,c){"use strict";function d(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function e(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=c(8),i=c(13),j=c(14),k=b.SimpleEventEmitter=function(){function a(){f(this,a),this._listeners={}}return g(a,[{key:"on",value:function(a,b){var c=this._listeners[a];c||(this._listeners[a]=c=[]),c.push(b)}},{key:"emit",value:function(a,b,c,d){var e=this._listeners[a];e&&e.forEach(function(a){a(b,c,d)})}}]),a}(),l=b.LoginResult=function w(){f(this,w)},m=b.ConnectionError=function(){function a(b){f(this,a),this.message=b}return g(a,[{key:"toString",value:function(){return this.message}}]),a}(),n=b.CreateDeviceError=function(){function a(b){f(this,a),this.message=b}return g(a,[{key:"toString",value:function(){return this.message}}]),a}(),o=b.CreateDeviceInfo=function x(a,b,c){f(this,x),this.id=a,this.secret=b,this.tags=c},p=b.CreateUserError=function(){function a(b){f(this,a),this.message=b}return g(a,[{key:"toString",value:function(){return this.message}}]),a}(),q=b.ResetPasswordError=function(){function a(b){f(this,a),this.message=b}return g(a,[{key:"toString",value:function(){return this.message}}]),a}(),r=b.ConnectionResult=function y(){f(this,y)},s=b.ChannelError=function(){function a(b){f(this,a),this.message=b}return g(a,[{key:"toString",value:function(){return this.message}}]),a}(),t=b.ChannelMessage=function z(){f(this,z)},u=b.Channel=function(a){function b(a,c){f(this,b);var e=d(this,Object.getPrototypeOf(b).call(this));return e.unsubscribeCallback=null,e.client=a,e.name=c,e.responses={},e.keySpaces={},e.channelPermissions=[],e.currentSubscribers=[],e.keySpaces._meta=new v(a,"_meta",e),e.keySpaces.def=new v(a,"def",e),e.metaKeyspace().on("subs",function(a){var b=e,c=e.currentSubscribers;e.currentSubscribers=e.getSubscribers();var d=e.diff(c,e.getSubscribers());d.forEach(function(a){-1!=c.indexOf(a)?b.emit("leave",a):b.emit("join",a)})}),e}return e(b,a),g(b,[{key:"getName",value:function(){return this.name}},{key:"getChannelData",value:function(a){return a=a||"def",this.getOrCreateChannelData(a)}},{key:"getSubscribers",value:function(){var a=[],b=this.metaKeyspace().get("subs");if(b){var c=b.subs;c.forEach(function(b){a.push(b)})}return a}},{key:"getNamespaces",value:function(){var a=[];return Object.keys(this.keySpaces).forEach(function(b){"_meta"!==b&&a.push(b)}),a}},{key:"publish",value:function(a,b){if(this.hasPermission("Publish")){if(this.publishByteArray(new h.ByteArray(h.base64_encode(JSON.stringify(a)))),b){var c=null;b(c)}}else b&&b(new s("No permission to publish on channel."))}},{key:"unsubscribe",value:function(a){var b=new i.WireChannelUnSubscribe;b.name=this.getName(),this.client.sendToServer(b),this.unsubscribeCallback=a}},{key:"onWireChannelMessage",value:function(a){var b=new t;b.channel=this,b.payload=a.payload,b.senderId=a.senderId,this.emit("message",b)}},{key:"onWireQueueMessage",value:function(a){if(a.id){var b=this.responses[a.id];b&&(delete this.responses[a.id],"json"==b.type?b.callback(JSON.parse(h.base64_decode(a.payload.getBytesAsBase64()))):"bytes"==b.type||"string"==b.type||console.error("Failed wire queue message."))}else console.error("Error mapping response id "+a.id)}},{key:"onWireChannelDataCreate",value:function(a){this.getOrCreateChannelData(a.ks).onWireChannelDataCreate(a)}},{key:"onWireChannelDataUpdate",value:function(a){this.getOrCreateChannelData(a.ks).onWireChannelDataUpdate(a)}},{key:"onWireChannelDataDelete",value:function(a){var b=this.getOrCreateChannelData(a.ks);b.onWireChannelDataDelete(a)}},{key:"onWireChannelLeave",value:function(a){this.unsubscribeCallback&&this.unsubscribeCallback()}},{key:"setChannelPermissions",value:function(a){this.channelPermissions=a}},{key:"hasPermission",value:function(a){var b=!1;return this.channelPermissions.forEach(function(c){a==c&&(b=!0)}),b}},{key:"diff",value:function c(a,b){for(var d=[],c=[],e=0;e<a.length;e++)d[a[e]]=!0;for(var e=0;e<b.length;e++)d[b[e]]?delete d[b[e]]:d[b[e]]=!0;for(var f in d)c.push(f);return c}},{key:"listChanged",value:function(a,b){var c=[];return a.forEach(function(a){-1===b.indexOf(a)&&c.push(a)},this),c}},{key:"metaKeyspace",value:function(){return this.keySpaces._meta}},{key:"publishByteArray",value:function(a){var b=new i.WireChannelMessage;b.name=this.name,b.payload=a,this.client.sendToServer(b)}},{key:"getOrCreateChannelData",value:function(a){var b;return b=a&&"def"!=a?this.keySpaces[a]:this.keySpaces.def,b||(b=new v(this.client,a,this),this.keySpaces[a]=b),b}}]),b}(k),v=b.ChannelData=function(a){function b(a,c,e){f(this,b);var g=d(this,Object.getPrototypeOf(b).call(this));return g.client=a,g.keySpace=c,g.elementMap={},g.channel=e,g.onWireChannelDataCreate.bind(g),g.onWireChannelDataDelete.bind(g),g.onWireChannelDataUpdate.bind(g),g}return e(b,a),g(b,[{key:"get",value:function(a){return this.elementMap[a]}},{key:"put",value:function(a,b,c){if(!a)return void c(new s("ChannelData key cannot be null."));if(!b)return void c(new s("ChannelData value cannot be null."));if(this.channel.hasPermission("PutChannelData")){var d=new i.WireChannelDataPut;d.key=a,d.ks=this.keySpace,d.name=this.channel.getName(),d.payload=new h.ByteArray(h.base64_encode(JSON.stringify(b))),this.client.sendToServer(d),c&&c(null)}else c&&c(new s("No permission to put on this channel."))}},{key:"remove",value:function(a,b){if(!a)return void b(new s("ChannelData key cannot be null."));if(this.channel.hasPermission("DelChannelData")){var c=new i.WireChannelDataDel;c.key=a,c.ks=this.keySpace,c.name=this.channel.getName(),this.client.sendToServer(c),b&&b(null)}else b&&b(new s("No permission to del on this channel."))}},{key:"getKeys",value:function(){var a=[];for(var b in this.elementMap)a.push(b);return a}},{key:"onWireChannelDataCreate",value:function(a){var b=a.payload.getBytesAsUTF8(),c=JSON.parse(b);this.elementMap[a.key]=c,this.emit("add",a.key,c),this.emit(a.key,c,"add")}},{key:"onWireChannelDataUpdate",value:function(a){var b=a.payload.getBytesAsUTF8(),c=JSON.parse(b);this.elementMap[a.key]=c,this.emit("update",a.key,c),this.emit(a.key,c,"update")}},{key:"onWireChannelDataDelete",value:function(a){delete this.elementMap[a.key],this.emit("remove",a.key),this.emit(a.key,null,"remove")}}]),b}(k);b.AbstractBigBangClient=function(a){function b(a){f(this,b);var c=d(this,Object.getPrototypeOf(b).call(this));return c.bufString="",c._appUrl=a,c.wireProtocol=new i.WireProtocol,c.wireProtocol.listener=c,c.connect=c.connect.bind(c),c.onConnect=c.onConnect.bind(c),c.subscribe=c.subscribe.bind(c),c.channelSubscribeMap={},c.channelMap={},c}return e(b,a),g(b,[{key:"_getRestClient",value:function(){var a=new j.DefaultApi;return a.apiClient.basePath=this._appUrl+"/api/v1",a}},{key:"connect",value:function(a,b,c){throw new Error("abstract")}},{key:"connectAsDevice",value:function(a,b,c){throw new Error("abstract")}},{key:"createUser",value:function(a,b,c){var d=this._getRestClient(),e=new j.CreateUserRequest;e.email=a,e.password=b,d.createUser(e,function(a,b,d){if(a)return void c(new p("Invalid response.  Check your server URL and try again."));var e=d.body;return e.created?void c(null):void c(new p(e.userMessage))})}},{key:"authUser",value:function(a,b,c){var d=this._getRestClient(),e=new j.AuthUserRequest;e.email=a,e.password=b,d.authUser(e,function(a,b,d){if(a)return console.error(a),void c(new m("Unable to authenticate user."),null);var e=d.body,f=new l;try{return f.authenticated=e.authenticated,f.clientKey=e.clientKey,f.message=e.message,void c(f)}catch(g){return f.authenticated=!1,f.message=g.message,void c(f)}})}},{key:"authAnon",value:function(a){var b=this._getRestClient();b.authAnon(function(b,c,d){if(b)return console.error(b),void a(new m("Unable to authenticate user."),null);var e=d.body,f=new l;try{return f.authenticated=e.authenticated,f.clientKey=e.clientKey,f.message=e.message,void a(f)}catch(g){return f.authenticated=!1,f.message=g.message,void a(f)}})}},{key:"resetPassword",value:function(a,b){var c=this._getRestClient();c.resetPassword(a,function(a,c,d){if(a)return console.error(a),void b(new q("Invalid response.  Check your server URL and try again."));var e=d.body;b(e.reset?null:new q(e.message))})}},{key:"createDevice",value:function(a,b){var c=this._getRestClient(),d=new j.CreateDeviceRequest;d.tags=a,c.create(d,function(a,c,d){if(a)return console.error(a),void b(new n("Invalid response.  Check your server URL and try again."),null);var e=d.body;return void b(null,new o(e.id,e.secret,e.tags))})}},{key:"authenticateDevice",value:function(a,b,c){var d=this._getRestClient(),e=new j.AuthDeviceRequest;e.id=a,e.secret=b,d.authDevice(e,function(a,b,d){if(a)return console.error(a),void c(new m("Unable to authenticate device."),null);var e=d.body;return void c(null,e)})}},{key:"disconnect",value:function(){this.sendToServer(new i.WireDisconnectRequest)}},{key:"subscribe",value:function(a,b,c){b instanceof Function&&(c=b,b=null),this.channelSubscribeMap[a]=c;var d=new i.WireChannelSubscribe;d.name=a,this.sendToServer(d)}},{key:"getClientId",value:function(){return this._clientId}},{key:"getChannel",value:function(a){return this.channelMap[a]}},{key:"getDeviceChannel",value:function(a){var b=this.getChannel(this._deviceId);return b?void a(b):void this.subscribe(this._deviceId,function(b,c){a(c)})}},{key:"sendToServer",value:function(a){throw new Error("Unimplemented: sendToServer")}},{key:"onConnect",value:function(){var a=new i.WireConnectRequest;a.clientKey=this._clientKey,a.version=1234,this.sendToServer(a)}},{key:"publish",value:function(a,b){var c=new i.WireChannelMessage;c.name=a,c.payload=new h.ByteArray(h.base64_encode(b)),this.sendToServer(c)}},{key:"onReceiveText",value:function(a){for(this.bufString+=a;this.parseTextStream(););}},{key:"parseTextStream",value:function(){var a=this.bufString.indexOf(":");if(-1!=a){var b=this.bufString.substr(0,a),c=parseInt(b);if(this.bufString.length<c+1+a)return!1;var d=this.bufString.substr(a+1,c+1),e=d.charAt(d.length-1);","!=e&&console.error("TextProtocol decode exception, not terminated with comma");var f=d.substr(0,d.length-1);if(this.wireProtocol.dispatchNetstring(f),this.bufString.length>c+1+a+1){var g=this.bufString.substr(c+1+a+1);return this.bufString=g,!0}return this.bufString="",!1}return!1}},{key:"onWireChannelJoin",value:function(a){var b=this.channelSubscribeMap[a.name],c=this.channelMap[a.name];return c||(c=new u(this,a.name)),c.setChannelPermissions(a.channelPermissions),this.channelMap[c.getName()]=c,!a.success&&b?b(new s("Unable to join channel"),c):void(b&&b(null,c))}},{key:"onWireChannelLeave",value:function(a){var b=this.channelMap[a.name];b.onWireChannelLeave(a)}},{key:"onWireChannelMessage",value:function(a){var b=this.channelMap[a.name];b.onWireChannelMessage(a)}},{key:"onWireQueueMessage",value:function(a){var b=this.channelMap[a.name];b.onWireQueueMessage(a)}},{key:"onWireRpcMessage",value:function(a){}},{key:"onWireConnectFailure",value:function(a){var b=new r;b.clientId=null,b.success=!1,b.message=a.failureMessage,this._internalConnectionResult(b)}},{key:"onWireConnectSuccess",value:function(a){this._clientId=a.clientId;var b=new r;b.clientId=a.clientId,b.success=!0,b.message=null,this._internalConnectionResult(b),setInterval(function(){this.sendToServer(new i.WirePing)}.bind(this),a.clientToServerPingMS)}},{key:"onWireChannelDataCreate",value:function(a){var b=this.channelMap[a.name];if(!b)throw new Error("Channel "+a.name+" does not exist.");b.onWireChannelDataCreate(a)}},{key:"onWireChannelDataUpdate",value:function(a){var b=this.channelMap[a.name];if(!b)throw new Error("Channel "+a.name+" does not exist.");b.onWireChannelDataUpdate(a)}},{key:"onWireChannelDataDelete",value:function(a){var b=this.channelMap[a.name];if(!b)throw new Error("Channel "+a.name+" does not exist.");b.onWireChannelDataDelete(a)}},{key:"onWireChannelDataDel",value:function(a){console.log("Unimplemented: onWireChannelDataDel")}},{key:"onWireChannelDataPut",value:function(a){console.log("Unimplemented: onWireChannelDataPut")}},{key:"onWireDisconnectSuccess",value:function(a){this.emit("disconnected",!1)}},{key:"onWireChannelUnSubscribe",value:function(a){console.log("Unimplemented: onWireChannelUnSubscribe")}},{key:"onWireDisconnectRequest",value:function(a){}},{key:"onWireConnectRequest",value:function(a){}},{key:"onWireChannelSubscribe",value:function(a){console.log("Unimplemented: onWireChannelSubscribe")}},{key:"onWirePing",value:function(a){this.sendToServer(new i.WirePong)}},{key:"onWirePong",value:function(a){}},{key:"parseUrl",value:function(a){a=a.replace(/\//g,"");var b=a.split(":"),c=b[0],d=b[1],e=Number(b[2])||("http"===c?80:443);return{protocol:c,host:d,port:e}}}]),b}(k)},function(a,b,c){(function(a,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a){return a.length+":"+a+","}function f(a){var b=a.indexOf(":"),c=a.substr(b+1);return c.substr(0,c.length-1)}function g(a){var b,c,d,e,f,g,h,i,j="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",k=0,l=0,m="",n=[];if(!a)return a;do b=a.charCodeAt(k++),c=a.charCodeAt(k++),d=a.charCodeAt(k++),i=b<<16|c<<8|d,e=i>>18&63,f=i>>12&63,g=i>>6&63,h=63&i,n[l++]=j.charAt(e)+j.charAt(f)+j.charAt(g)+j.charAt(h);while(k<a.length);m=n.join("");var o=a.length%3;return(o?m.slice(0,o-3):m)+"===".slice(o||3)}function h(a){var b,c,d,e,f,g,h,i,k=0,l=0,m="",n=[];if(!a)return a;do e=j[a.charAt(k++)],f=j[a.charAt(k++)],g=j[a.charAt(k++)],h=j[a.charAt(k++)],i=e<<18|f<<12|g<<6|h,b=i>>16&255,c=i>>8&255,d=255&i,64==g?n[l++]=String.fromCharCode(b):64==h?n[l++]=String.fromCharCode(b,c):n[l++]=String.fromCharCode(b,c,d);while(k<a.length);return m=n.join("")}Object.defineProperty(b,"__esModule",{value:!0});var i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();b.encodeNetstring=e,b.decodeNetstring=f,b.base64_encode=g,b.base64_decode=h,c.Buffer=a;for(var j=(b.ByteArray=function(){function b(c){d(this,b),c?c instanceof String?this.buffer=new a(c,"utf8"):this.buffer=c:this.buffer=new a(0)}return i(b,[{key:"getBytesAsBase64",value:function(){return this.buffer.toString("utf8")}},{key:"getBytesAsUTF8",value:function(){return h(this.buffer.toString("utf8"))}},{key:"getBytesAsJSON",value:function(){return JSON.parse(this.getBytesAsUTF8())}},{key:"getBuffer",value:function(){return this.buffer}},{key:"toJSON",value:function(){return this.getBytesAsBase64()}}]),b}(),{}),k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",l=0;l<k.length;l++)j[k.charAt(l)]=l}).call(b,c(9).Buffer,function(){return this}())},function(a,b,c){(function(a,d){"use strict";function e(){function a(){}try{var b=new Uint8Array(1);return b.foo=function(){return 42},b.constructor=a,42===b.foo()&&b.constructor===a&&"function"==typeof b.subarray&&0===b.subarray(1,1).byteLength}catch(c){return!1}}function f(){return a.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(b){return this instanceof a?(a.TYPED_ARRAY_SUPPORT||(this.length=0,this.parent=void 0),"number"==typeof b?g(this,b):"string"==typeof b?h(this,b,arguments.length>1?arguments[1]:"utf8"):i(this,b)):arguments.length>1?new a(b,arguments[1]):new a(b)}function g(b,c){if(b=p(b,0>c?0:0|q(c)),!a.TYPED_ARRAY_SUPPORT)for(var d=0;c>d;d++)b[d]=0;return b}function h(a,b,c){"string"==typeof c&&""!==c||(c="utf8");var d=0|s(b,c);return a=p(a,d),a.write(b,c),a}function i(b,c){if(a.isBuffer(c))return j(b,c);if(Y(c))return k(b,c);if(null==c)throw new TypeError("must start with number, buffer, array or string");if("undefined"!=typeof ArrayBuffer){if(c.buffer instanceof ArrayBuffer)return l(b,c);if(c instanceof ArrayBuffer)return m(b,c)}return c.length?n(b,c):o(b,c)}function j(a,b){var c=0|q(b.length);return a=p(a,c),b.copy(a,0,0,c),a}function k(a,b){var c=0|q(b.length);a=p(a,c);for(var d=0;c>d;d+=1)a[d]=255&b[d];return a}function l(a,b){var c=0|q(b.length);a=p(a,c);for(var d=0;c>d;d+=1)a[d]=255&b[d];return a}function m(b,c){return a.TYPED_ARRAY_SUPPORT?(c.byteLength,b=a._augment(new Uint8Array(c))):b=l(b,new Uint8Array(c)),b}function n(a,b){var c=0|q(b.length);a=p(a,c);for(var d=0;c>d;d+=1)a[d]=255&b[d];return a}function o(a,b){var c,d=0;"Buffer"===b.type&&Y(b.data)&&(c=b.data,d=0|q(c.length)),a=p(a,d);for(var e=0;d>e;e+=1)a[e]=255&c[e];return a}function p(b,c){a.TYPED_ARRAY_SUPPORT?(b=a._augment(new Uint8Array(c)),b.__proto__=a.prototype):(b.length=c,b._isBuffer=!0);var d=0!==c&&c<=a.poolSize>>>1;return d&&(b.parent=Z),b}function q(a){if(a>=f())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+f().toString(16)+" bytes");return 0|a}function r(b,c){if(!(this instanceof r))return new r(b,c);var d=new a(b,c);return delete d.parent,d}function s(a,b){"string"!=typeof a&&(a=""+a);var c=a.length;if(0===c)return 0;for(var d=!1;;)switch(b){case"ascii":case"binary":case"raw":case"raws":return c;case"utf8":case"utf-8":return R(a).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*c;case"hex":return c>>>1;case"base64":return U(a).length;default:if(d)return R(a).length;b=(""+b).toLowerCase(),d=!0}}function t(a,b,c){var d=!1;if(b=0|b,c=void 0===c||c===1/0?this.length:0|c,a||(a="utf8"),
0>b&&(b=0),c>this.length&&(c=this.length),b>=c)return"";for(;;)switch(a){case"hex":return F(this,b,c);case"utf8":case"utf-8":return B(this,b,c);case"ascii":return D(this,b,c);case"binary":return E(this,b,c);case"base64":return A(this,b,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return G(this,b,c);default:if(d)throw new TypeError("Unknown encoding: "+a);a=(a+"").toLowerCase(),d=!0}}function u(a,b,c,d){c=Number(c)||0;var e=a.length-c;d?(d=Number(d),d>e&&(d=e)):d=e;var f=b.length;if(f%2!==0)throw new Error("Invalid hex string");d>f/2&&(d=f/2);for(var g=0;d>g;g++){var h=parseInt(b.substr(2*g,2),16);if(isNaN(h))throw new Error("Invalid hex string");a[c+g]=h}return g}function v(a,b,c,d){return V(R(b,a.length-c),a,c,d)}function w(a,b,c,d){return V(S(b),a,c,d)}function x(a,b,c,d){return w(a,b,c,d)}function y(a,b,c,d){return V(U(b),a,c,d)}function z(a,b,c,d){return V(T(b,a.length-c),a,c,d)}function A(a,b,c){return 0===b&&c===a.length?W.fromByteArray(a):W.fromByteArray(a.slice(b,c))}function B(a,b,c){c=Math.min(a.length,c);for(var d=[],e=b;c>e;){var f=a[e],g=null,h=f>239?4:f>223?3:f>191?2:1;if(c>=e+h){var i,j,k,l;switch(h){case 1:128>f&&(g=f);break;case 2:i=a[e+1],128===(192&i)&&(l=(31&f)<<6|63&i,l>127&&(g=l));break;case 3:i=a[e+1],j=a[e+2],128===(192&i)&&128===(192&j)&&(l=(15&f)<<12|(63&i)<<6|63&j,l>2047&&(55296>l||l>57343)&&(g=l));break;case 4:i=a[e+1],j=a[e+2],k=a[e+3],128===(192&i)&&128===(192&j)&&128===(192&k)&&(l=(15&f)<<18|(63&i)<<12|(63&j)<<6|63&k,l>65535&&1114112>l&&(g=l))}}null===g?(g=65533,h=1):g>65535&&(g-=65536,d.push(g>>>10&1023|55296),g=56320|1023&g),d.push(g),e+=h}return C(d)}function C(a){var b=a.length;if($>=b)return String.fromCharCode.apply(String,a);for(var c="",d=0;b>d;)c+=String.fromCharCode.apply(String,a.slice(d,d+=$));return c}function D(a,b,c){var d="";c=Math.min(a.length,c);for(var e=b;c>e;e++)d+=String.fromCharCode(127&a[e]);return d}function E(a,b,c){var d="";c=Math.min(a.length,c);for(var e=b;c>e;e++)d+=String.fromCharCode(a[e]);return d}function F(a,b,c){var d=a.length;(!b||0>b)&&(b=0),(!c||0>c||c>d)&&(c=d);for(var e="",f=b;c>f;f++)e+=Q(a[f]);return e}function G(a,b,c){for(var d=a.slice(b,c),e="",f=0;f<d.length;f+=2)e+=String.fromCharCode(d[f]+256*d[f+1]);return e}function H(a,b,c){if(a%1!==0||0>a)throw new RangeError("offset is not uint");if(a+b>c)throw new RangeError("Trying to access beyond buffer length")}function I(b,c,d,e,f,g){if(!a.isBuffer(b))throw new TypeError("buffer must be a Buffer instance");if(c>f||g>c)throw new RangeError("value is out of bounds");if(d+e>b.length)throw new RangeError("index out of range")}function J(a,b,c,d){0>b&&(b=65535+b+1);for(var e=0,f=Math.min(a.length-c,2);f>e;e++)a[c+e]=(b&255<<8*(d?e:1-e))>>>8*(d?e:1-e)}function K(a,b,c,d){0>b&&(b=4294967295+b+1);for(var e=0,f=Math.min(a.length-c,4);f>e;e++)a[c+e]=b>>>8*(d?e:3-e)&255}function L(a,b,c,d,e,f){if(b>e||f>b)throw new RangeError("value is out of bounds");if(c+d>a.length)throw new RangeError("index out of range");if(0>c)throw new RangeError("index out of range")}function M(a,b,c,d,e){return e||L(a,b,c,4,3.4028234663852886e38,-3.4028234663852886e38),X.write(a,b,c,d,23,4),c+4}function N(a,b,c,d,e){return e||L(a,b,c,8,1.7976931348623157e308,-1.7976931348623157e308),X.write(a,b,c,d,52,8),c+8}function O(a){if(a=P(a).replace(aa,""),a.length<2)return"";for(;a.length%4!==0;)a+="=";return a}function P(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function Q(a){return 16>a?"0"+a.toString(16):a.toString(16)}function R(a,b){b=b||1/0;for(var c,d=a.length,e=null,f=[],g=0;d>g;g++){if(c=a.charCodeAt(g),c>55295&&57344>c){if(!e){if(c>56319){(b-=3)>-1&&f.push(239,191,189);continue}if(g+1===d){(b-=3)>-1&&f.push(239,191,189);continue}e=c;continue}if(56320>c){(b-=3)>-1&&f.push(239,191,189),e=c;continue}c=(e-55296<<10|c-56320)+65536}else e&&(b-=3)>-1&&f.push(239,191,189);if(e=null,128>c){if((b-=1)<0)break;f.push(c)}else if(2048>c){if((b-=2)<0)break;f.push(c>>6|192,63&c|128)}else if(65536>c){if((b-=3)<0)break;f.push(c>>12|224,c>>6&63|128,63&c|128)}else{if(!(1114112>c))throw new Error("Invalid code point");if((b-=4)<0)break;f.push(c>>18|240,c>>12&63|128,c>>6&63|128,63&c|128)}}return f}function S(a){for(var b=[],c=0;c<a.length;c++)b.push(255&a.charCodeAt(c));return b}function T(a,b){for(var c,d,e,f=[],g=0;g<a.length&&!((b-=2)<0);g++)c=a.charCodeAt(g),d=c>>8,e=c%256,f.push(e),f.push(d);return f}function U(a){return W.toByteArray(O(a))}function V(a,b,c,d){for(var e=0;d>e&&!(e+c>=b.length||e>=a.length);e++)b[e+c]=a[e];return e}var W=c(10),X=c(11),Y=c(12);b.Buffer=a,b.SlowBuffer=r,b.INSPECT_MAX_BYTES=50,a.poolSize=8192;var Z={};a.TYPED_ARRAY_SUPPORT=void 0!==d.TYPED_ARRAY_SUPPORT?d.TYPED_ARRAY_SUPPORT:e(),a.TYPED_ARRAY_SUPPORT?(a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array):(a.prototype.length=void 0,a.prototype.parent=void 0),a.isBuffer=function(a){return!(null==a||!a._isBuffer)},a.compare=function(b,c){if(!a.isBuffer(b)||!a.isBuffer(c))throw new TypeError("Arguments must be Buffers");if(b===c)return 0;for(var d=b.length,e=c.length,f=0,g=Math.min(d,e);g>f&&b[f]===c[f];)++f;return f!==g&&(d=b[f],e=c[f]),e>d?-1:d>e?1:0},a.isEncoding=function(a){switch(String(a).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(b,c){if(!Y(b))throw new TypeError("list argument must be an Array of Buffers.");if(0===b.length)return new a(0);var d;if(void 0===c)for(c=0,d=0;d<b.length;d++)c+=b[d].length;var e=new a(c),f=0;for(d=0;d<b.length;d++){var g=b[d];g.copy(e,f),f+=g.length}return e},a.byteLength=s,a.prototype.toString=function(){var a=0|this.length;return 0===a?"":0===arguments.length?B(this,0,a):t.apply(this,arguments)},a.prototype.equals=function(b){if(!a.isBuffer(b))throw new TypeError("Argument must be a Buffer");return this===b?!0:0===a.compare(this,b)},a.prototype.inspect=function(){var a="",c=b.INSPECT_MAX_BYTES;return this.length>0&&(a=this.toString("hex",0,c).match(/.{2}/g).join(" "),this.length>c&&(a+=" ... ")),"<Buffer "+a+">"},a.prototype.compare=function(b){if(!a.isBuffer(b))throw new TypeError("Argument must be a Buffer");return this===b?0:a.compare(this,b)},a.prototype.indexOf=function(b,c){function d(a,b,c){for(var d=-1,e=0;c+e<a.length;e++)if(a[c+e]===b[-1===d?0:e-d]){if(-1===d&&(d=e),e-d+1===b.length)return c+d}else d=-1;return-1}if(c>2147483647?c=2147483647:-2147483648>c&&(c=-2147483648),c>>=0,0===this.length)return-1;if(c>=this.length)return-1;if(0>c&&(c=Math.max(this.length+c,0)),"string"==typeof b)return 0===b.length?-1:String.prototype.indexOf.call(this,b,c);if(a.isBuffer(b))return d(this,b,c);if("number"==typeof b)return a.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,b,c):d(this,[b],c);throw new TypeError("val must be string, number or Buffer")},a.prototype.get=function(a){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(a)},a.prototype.set=function(a,b){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(a,b)},a.prototype.write=function(a,b,c,d){if(void 0===b)d="utf8",c=this.length,b=0;else if(void 0===c&&"string"==typeof b)d=b,c=this.length,b=0;else if(isFinite(b))b=0|b,isFinite(c)?(c=0|c,void 0===d&&(d="utf8")):(d=c,c=void 0);else{var e=d;d=b,b=0|c,c=e}var f=this.length-b;if((void 0===c||c>f)&&(c=f),a.length>0&&(0>c||0>b)||b>this.length)throw new RangeError("attempt to write outside buffer bounds");d||(d="utf8");for(var g=!1;;)switch(d){case"hex":return u(this,a,b,c);case"utf8":case"utf-8":return v(this,a,b,c);case"ascii":return w(this,a,b,c);case"binary":return x(this,a,b,c);case"base64":return y(this,a,b,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z(this,a,b,c);default:if(g)throw new TypeError("Unknown encoding: "+d);d=(""+d).toLowerCase(),g=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var $=4096;a.prototype.slice=function(b,c){var d=this.length;b=~~b,c=void 0===c?d:~~c,0>b?(b+=d,0>b&&(b=0)):b>d&&(b=d),0>c?(c+=d,0>c&&(c=0)):c>d&&(c=d),b>c&&(c=b);var e;if(a.TYPED_ARRAY_SUPPORT)e=a._augment(this.subarray(b,c));else{var f=c-b;e=new a(f,void 0);for(var g=0;f>g;g++)e[g]=this[g+b]}return e.length&&(e.parent=this.parent||this),e},a.prototype.readUIntLE=function(a,b,c){a=0|a,b=0|b,c||H(a,b,this.length);for(var d=this[a],e=1,f=0;++f<b&&(e*=256);)d+=this[a+f]*e;return d},a.prototype.readUIntBE=function(a,b,c){a=0|a,b=0|b,c||H(a,b,this.length);for(var d=this[a+--b],e=1;b>0&&(e*=256);)d+=this[a+--b]*e;return d},a.prototype.readUInt8=function(a,b){return b||H(a,1,this.length),this[a]},a.prototype.readUInt16LE=function(a,b){return b||H(a,2,this.length),this[a]|this[a+1]<<8},a.prototype.readUInt16BE=function(a,b){return b||H(a,2,this.length),this[a]<<8|this[a+1]},a.prototype.readUInt32LE=function(a,b){return b||H(a,4,this.length),(this[a]|this[a+1]<<8|this[a+2]<<16)+16777216*this[a+3]},a.prototype.readUInt32BE=function(a,b){return b||H(a,4,this.length),16777216*this[a]+(this[a+1]<<16|this[a+2]<<8|this[a+3])},a.prototype.readIntLE=function(a,b,c){a=0|a,b=0|b,c||H(a,b,this.length);for(var d=this[a],e=1,f=0;++f<b&&(e*=256);)d+=this[a+f]*e;return e*=128,d>=e&&(d-=Math.pow(2,8*b)),d},a.prototype.readIntBE=function(a,b,c){a=0|a,b=0|b,c||H(a,b,this.length);for(var d=b,e=1,f=this[a+--d];d>0&&(e*=256);)f+=this[a+--d]*e;return e*=128,f>=e&&(f-=Math.pow(2,8*b)),f},a.prototype.readInt8=function(a,b){return b||H(a,1,this.length),128&this[a]?-1*(255-this[a]+1):this[a]},a.prototype.readInt16LE=function(a,b){b||H(a,2,this.length);var c=this[a]|this[a+1]<<8;return 32768&c?4294901760|c:c},a.prototype.readInt16BE=function(a,b){b||H(a,2,this.length);var c=this[a+1]|this[a]<<8;return 32768&c?4294901760|c:c},a.prototype.readInt32LE=function(a,b){return b||H(a,4,this.length),this[a]|this[a+1]<<8|this[a+2]<<16|this[a+3]<<24},a.prototype.readInt32BE=function(a,b){return b||H(a,4,this.length),this[a]<<24|this[a+1]<<16|this[a+2]<<8|this[a+3]},a.prototype.readFloatLE=function(a,b){return b||H(a,4,this.length),X.read(this,a,!0,23,4)},a.prototype.readFloatBE=function(a,b){return b||H(a,4,this.length),X.read(this,a,!1,23,4)},a.prototype.readDoubleLE=function(a,b){return b||H(a,8,this.length),X.read(this,a,!0,52,8)},a.prototype.readDoubleBE=function(a,b){return b||H(a,8,this.length),X.read(this,a,!1,52,8)},a.prototype.writeUIntLE=function(a,b,c,d){a=+a,b=0|b,c=0|c,d||I(this,a,b,c,Math.pow(2,8*c),0);var e=1,f=0;for(this[b]=255&a;++f<c&&(e*=256);)this[b+f]=a/e&255;return b+c},a.prototype.writeUIntBE=function(a,b,c,d){a=+a,b=0|b,c=0|c,d||I(this,a,b,c,Math.pow(2,8*c),0);var e=c-1,f=1;for(this[b+e]=255&a;--e>=0&&(f*=256);)this[b+e]=a/f&255;return b+c},a.prototype.writeUInt8=function(b,c,d){return b=+b,c=0|c,d||I(this,b,c,1,255,0),a.TYPED_ARRAY_SUPPORT||(b=Math.floor(b)),this[c]=255&b,c+1},a.prototype.writeUInt16LE=function(b,c,d){return b=+b,c=0|c,d||I(this,b,c,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[c]=255&b,this[c+1]=b>>>8):J(this,b,c,!0),c+2},a.prototype.writeUInt16BE=function(b,c,d){return b=+b,c=0|c,d||I(this,b,c,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[c]=b>>>8,this[c+1]=255&b):J(this,b,c,!1),c+2},a.prototype.writeUInt32LE=function(b,c,d){return b=+b,c=0|c,d||I(this,b,c,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[c+3]=b>>>24,this[c+2]=b>>>16,this[c+1]=b>>>8,this[c]=255&b):K(this,b,c,!0),c+4},a.prototype.writeUInt32BE=function(b,c,d){return b=+b,c=0|c,d||I(this,b,c,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[c]=b>>>24,this[c+1]=b>>>16,this[c+2]=b>>>8,this[c+3]=255&b):K(this,b,c,!1),c+4},a.prototype.writeIntLE=function(a,b,c,d){if(a=+a,b=0|b,!d){var e=Math.pow(2,8*c-1);I(this,a,b,c,e-1,-e)}var f=0,g=1,h=0>a?1:0;for(this[b]=255&a;++f<c&&(g*=256);)this[b+f]=(a/g>>0)-h&255;return b+c},a.prototype.writeIntBE=function(a,b,c,d){if(a=+a,b=0|b,!d){var e=Math.pow(2,8*c-1);I(this,a,b,c,e-1,-e)}var f=c-1,g=1,h=0>a?1:0;for(this[b+f]=255&a;--f>=0&&(g*=256);)this[b+f]=(a/g>>0)-h&255;return b+c},a.prototype.writeInt8=function(b,c,d){return b=+b,c=0|c,d||I(this,b,c,1,127,-128),a.TYPED_ARRAY_SUPPORT||(b=Math.floor(b)),0>b&&(b=255+b+1),this[c]=255&b,c+1},a.prototype.writeInt16LE=function(b,c,d){return b=+b,c=0|c,d||I(this,b,c,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[c]=255&b,this[c+1]=b>>>8):J(this,b,c,!0),c+2},a.prototype.writeInt16BE=function(b,c,d){return b=+b,c=0|c,d||I(this,b,c,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[c]=b>>>8,this[c+1]=255&b):J(this,b,c,!1),c+2},a.prototype.writeInt32LE=function(b,c,d){return b=+b,c=0|c,d||I(this,b,c,4,2147483647,-2147483648),a.TYPED_ARRAY_SUPPORT?(this[c]=255&b,this[c+1]=b>>>8,this[c+2]=b>>>16,this[c+3]=b>>>24):K(this,b,c,!0),c+4},a.prototype.writeInt32BE=function(b,c,d){return b=+b,c=0|c,d||I(this,b,c,4,2147483647,-2147483648),0>b&&(b=4294967295+b+1),a.TYPED_ARRAY_SUPPORT?(this[c]=b>>>24,this[c+1]=b>>>16,this[c+2]=b>>>8,this[c+3]=255&b):K(this,b,c,!1),c+4},a.prototype.writeFloatLE=function(a,b,c){return M(this,a,b,!0,c)},a.prototype.writeFloatBE=function(a,b,c){return M(this,a,b,!1,c)},a.prototype.writeDoubleLE=function(a,b,c){return N(this,a,b,!0,c)},a.prototype.writeDoubleBE=function(a,b,c){return N(this,a,b,!1,c)},a.prototype.copy=function(b,c,d,e){if(d||(d=0),e||0===e||(e=this.length),c>=b.length&&(c=b.length),c||(c=0),e>0&&d>e&&(e=d),e===d)return 0;if(0===b.length||0===this.length)return 0;if(0>c)throw new RangeError("targetStart out of bounds");if(0>d||d>=this.length)throw new RangeError("sourceStart out of bounds");if(0>e)throw new RangeError("sourceEnd out of bounds");e>this.length&&(e=this.length),b.length-c<e-d&&(e=b.length-c+d);var f,g=e-d;if(this===b&&c>d&&e>c)for(f=g-1;f>=0;f--)b[f+c]=this[f+d];else if(1e3>g||!a.TYPED_ARRAY_SUPPORT)for(f=0;g>f;f++)b[f+c]=this[f+d];else b._set(this.subarray(d,d+g),c);return g},a.prototype.fill=function(a,b,c){if(a||(a=0),b||(b=0),c||(c=this.length),b>c)throw new RangeError("end < start");if(c!==b&&0!==this.length){if(0>b||b>=this.length)throw new RangeError("start out of bounds");if(0>c||c>this.length)throw new RangeError("end out of bounds");var d;if("number"==typeof a)for(d=b;c>d;d++)this[d]=a;else{var e=R(a.toString()),f=e.length;for(d=b;c>d;d++)this[d]=e[d%f]}return this}},a.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(a.TYPED_ARRAY_SUPPORT)return new a(this).buffer;for(var b=new Uint8Array(this.length),c=0,d=b.length;d>c;c+=1)b[c]=this[c];return b.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var _=a.prototype;a._augment=function(b){return b.constructor=a,b._isBuffer=!0,b._set=b.set,b.get=_.get,b.set=_.set,b.write=_.write,b.toString=_.toString,b.toLocaleString=_.toString,b.toJSON=_.toJSON,b.equals=_.equals,b.compare=_.compare,b.indexOf=_.indexOf,b.copy=_.copy,b.slice=_.slice,b.readUIntLE=_.readUIntLE,b.readUIntBE=_.readUIntBE,b.readUInt8=_.readUInt8,b.readUInt16LE=_.readUInt16LE,b.readUInt16BE=_.readUInt16BE,b.readUInt32LE=_.readUInt32LE,b.readUInt32BE=_.readUInt32BE,b.readIntLE=_.readIntLE,b.readIntBE=_.readIntBE,b.readInt8=_.readInt8,b.readInt16LE=_.readInt16LE,b.readInt16BE=_.readInt16BE,b.readInt32LE=_.readInt32LE,b.readInt32BE=_.readInt32BE,b.readFloatLE=_.readFloatLE,b.readFloatBE=_.readFloatBE,b.readDoubleLE=_.readDoubleLE,b.readDoubleBE=_.readDoubleBE,b.writeUInt8=_.writeUInt8,b.writeUIntLE=_.writeUIntLE,b.writeUIntBE=_.writeUIntBE,b.writeUInt16LE=_.writeUInt16LE,b.writeUInt16BE=_.writeUInt16BE,b.writeUInt32LE=_.writeUInt32LE,b.writeUInt32BE=_.writeUInt32BE,b.writeIntLE=_.writeIntLE,b.writeIntBE=_.writeIntBE,b.writeInt8=_.writeInt8,b.writeInt16LE=_.writeInt16LE,b.writeInt16BE=_.writeInt16BE,b.writeInt32LE=_.writeInt32LE,b.writeInt32BE=_.writeInt32BE,b.writeFloatLE=_.writeFloatLE,b.writeFloatBE=_.writeFloatBE,b.writeDoubleLE=_.writeDoubleLE,b.writeDoubleBE=_.writeDoubleBE,b.fill=_.fill,b.inspect=_.inspect,b.toArrayBuffer=_.toArrayBuffer,b};var aa=/[^+\/0-9A-Za-z-_]/g}).call(b,c(9).Buffer,function(){return this}())},function(a,b,c){var d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(a){"use strict";function b(a){var b=a.charCodeAt(0);return b===g||b===l?62:b===h||b===m?63:i>b?-1:i+10>b?b-i+26+26:k+26>b?b-k:j+26>b?b-j+26:void 0}function c(a){function c(a){j[l++]=a}var d,e,g,h,i,j;if(a.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var k=a.length;i="="===a.charAt(k-2)?2:"="===a.charAt(k-1)?1:0,j=new f(3*a.length/4-i),g=i>0?a.length-4:a.length;var l=0;for(d=0,e=0;g>d;d+=4,e+=3)h=b(a.charAt(d))<<18|b(a.charAt(d+1))<<12|b(a.charAt(d+2))<<6|b(a.charAt(d+3)),c((16711680&h)>>16),c((65280&h)>>8),c(255&h);return 2===i?(h=b(a.charAt(d))<<2|b(a.charAt(d+1))>>4,c(255&h)):1===i&&(h=b(a.charAt(d))<<10|b(a.charAt(d+1))<<4|b(a.charAt(d+2))>>2,c(h>>8&255),c(255&h)),j}function e(a){function b(a){return d.charAt(a)}function c(a){return b(a>>18&63)+b(a>>12&63)+b(a>>6&63)+b(63&a)}var e,f,g,h=a.length%3,i="";for(e=0,g=a.length-h;g>e;e+=3)f=(a[e]<<16)+(a[e+1]<<8)+a[e+2],i+=c(f);switch(h){case 1:f=a[a.length-1],i+=b(f>>2),i+=b(f<<4&63),i+="==";break;case 2:f=(a[a.length-2]<<8)+a[a.length-1],i+=b(f>>10),i+=b(f>>4&63),i+=b(f<<2&63),i+="="}return i}var f="undefined"!=typeof Uint8Array?Uint8Array:Array,g="+".charCodeAt(0),h="/".charCodeAt(0),i="0".charCodeAt(0),j="a".charCodeAt(0),k="A".charCodeAt(0),l="-".charCodeAt(0),m="_".charCodeAt(0);a.toByteArray=c,a.fromByteArray=e}(b)},function(a,b){b.read=function(a,b,c,d,e){var f,g,h=8*e-d-1,i=(1<<h)-1,j=i>>1,k=-7,l=c?e-1:0,m=c?-1:1,n=a[b+l];for(l+=m,f=n&(1<<-k)-1,n>>=-k,k+=h;k>0;f=256*f+a[b+l],l+=m,k-=8);for(g=f&(1<<-k)-1,f>>=-k,k+=d;k>0;g=256*g+a[b+l],l+=m,k-=8);if(0===f)f=1-j;else{if(f===i)return g?NaN:(n?-1:1)*(1/0);g+=Math.pow(2,d),f-=j}return(n?-1:1)*g*Math.pow(2,f-d)},b.write=function(a,b,c,d,e,f){var g,h,i,j=8*f-e-1,k=(1<<j)-1,l=k>>1,m=23===e?Math.pow(2,-24)-Math.pow(2,-77):0,n=d?0:f-1,o=d?1:-1,p=0>b||0===b&&0>1/b?1:0;for(b=Math.abs(b),isNaN(b)||b===1/0?(h=isNaN(b)?1:0,g=k):(g=Math.floor(Math.log(b)/Math.LN2),b*(i=Math.pow(2,-g))<1&&(g--,i*=2),b+=g+l>=1?m/i:m*Math.pow(2,1-l),b*i>=2&&(g++,i/=2),g+l>=k?(h=0,g=k):g+l>=1?(h=(b*i-1)*Math.pow(2,e),g+=l):(h=b*Math.pow(2,l-1)*Math.pow(2,e),g=0));e>=8;a[c+n]=255&h,n+=o,h/=256,e-=8);for(g=g<<e|h,j+=e;j>0;a[c+n]=255&g,n+=o,g/=256,j-=8);a[c+n-o]|=128*p}},function(a,b){var c={}.toString;a.exports=Array.isArray||function(a){return"[object Array]"==c.call(a)}},function(a,b,c){"use strict";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0}),b.WireRpcMessage=b.WireQueueMessage=b.WirePong=b.WirePing=b.WireDisconnectSuccess=b.WireDisconnectRequest=b.WireConnectSuccess=b.WireConnectRequest=b.WireConnectFailure=b.WireChannelUnSubscribe=b.WireChannelSubscribe=b.WireChannelMessage=b.WireChannelLeave=b.WireChannelJoin=b.WireChannelDataUpdate=b.WireChannelDataPut=b.WireChannelDataDelete=b.WireChannelDataDel=b.WireChannelDataCreate=b.WireProtocol=void 0;var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=c(8),h=d(g),i=(b.WireProtocol=function(){function a(){e(this,a),this.protocolId=0,this.protocolHash="d96a44664eff8b2a710ded18e07ab927"}return f(a,[{key:"wrapNetstring",value:function(a){var b=a.messageType+":"+a.serializeJson();return h.encodeNetstring(b)}},{key:"dispatchNetstring",value:function(a){var b=a.indexOf(":"),c=a.substr(b+1),d=parseInt(a.substr(0,b));switch(d){case 0:var e=new i;e.deserializeJson(c),this.listener.onWireChannelDataCreate(e);break;case 1:var f=new j;f.deserializeJson(c),this.listener.onWireChannelDataDel(f);break;case 2:var g=new k;g.deserializeJson(c),this.listener.onWireChannelDataDelete(g);break;case 3:var h=new l;h.deserializeJson(c),this.listener.onWireChannelDataPut(h);break;case 4:var B=new m;B.deserializeJson(c),this.listener.onWireChannelDataUpdate(B);break;case 5:var C=new n;C.deserializeJson(c),this.listener.onWireChannelJoin(C);break;case 6:var D=new o;D.deserializeJson(c),this.listener.onWireChannelLeave(D);break;case 7:var E=new p;E.deserializeJson(c),this.listener.onWireChannelMessage(E);break;case 8:var F=new q;F.deserializeJson(c),this.listener.onWireChannelSubscribe(F);break;case 9:var G=new r;G.deserializeJson(c),this.listener.onWireChannelUnSubscribe(G);break;case 10:var H=new s;H.deserializeJson(c),this.listener.onWireConnectFailure(H);break;case 11:var I=new t;I.deserializeJson(c),this.listener.onWireConnectRequest(I);break;case 12:var J=new u;J.deserializeJson(c),this.listener.onWireConnectSuccess(J);break;case 13:var K=new v;K.deserializeJson(c),this.listener.onWireDisconnectRequest(K);break;case 14:var L=new w;L.deserializeJson(c),this.listener.onWireDisconnectSuccess(L);break;case 15:var M=new x;M.deserializeJson(c),this.listener.onWirePing(M);break;case 16:var N=new y;N.deserializeJson(c),this.listener.onWirePong(N);break;case 17:var O=new z;O.deserializeJson(c),this.listener.onWireQueueMessage(O);break;case 18:var P=new A;P.deserializeJson(c),this.listener.onWireRpcMessage(P)}}}]),a}(),b.WireChannelDataCreate=function(){function a(){e(this,a),this.messageType=0}return f(a,[{key:"serializeJson",value:function(){return JSON.stringify(this)}},{key:"deserializeJson",value:function(a){var b=JSON.parse(a);this.key=b.key,this.ks=b.ks,this.name=b.name,this.payload=new h.ByteArray(b.payload)}},{key:"setPewBitmask",value:function(a){this._pew_bitmask_|=a}},{key:"unsetPewBitmask",value:function(a){this._pew_bitmask_&=a}},{key:"pewBitmaskIsSetFor",value:function(a){return(this._pew_bitmask_&a)==a}}]),a}());i.key_IS_SET=1,i.ks_IS_SET=2,i.name_IS_SET=4,i.payload_IS_SET=8;var j=b.WireChannelDataDel=function(){function a(){e(this,a),this.messageType=1}return f(a,[{key:"serializeJson",value:function(){return JSON.stringify(this)}},{key:"deserializeJson",value:function(a){var b=JSON.parse(a);this.key=b.key,this.ks=b.ks,this.name=b.name}},{key:"setPewBitmask",value:function(a){this._pew_bitmask_|=a}},{key:"unsetPewBitmask",value:function(a){this._pew_bitmask_&=a}},{key:"pewBitmaskIsSetFor",value:function(a){return(this._pew_bitmask_&a)==a}}]),a}();j.key_IS_SET=1,j.ks_IS_SET=2,j.name_IS_SET=4;var k=b.WireChannelDataDelete=function(){function a(){e(this,a),this.messageType=2}return f(a,[{key:"serializeJson",value:function(){return JSON.stringify(this)}},{key:"deserializeJson",value:function(a){var b=JSON.parse(a);this.key=b.key,this.ks=b.ks,this.name=b.name,this.payload=new h.ByteArray(b.payload)}},{key:"setPewBitmask",value:function(a){this._pew_bitmask_|=a}},{key:"unsetPewBitmask",value:function(a){this._pew_bitmask_&=a}},{key:"pewBitmaskIsSetFor",value:function(a){return(this._pew_bitmask_&a)==a}}]),a}();k.key_IS_SET=1,k.ks_IS_SET=2,k.name_IS_SET=4,k.payload_IS_SET=8;var l=b.WireChannelDataPut=function(){function a(){e(this,a),this.messageType=3}return f(a,[{key:"serializeJson",value:function(){return JSON.stringify(this)}},{key:"deserializeJson",value:function(a){var b=JSON.parse(a);this.key=b.key,this.ks=b.ks,this.name=b.name,this.payload=new h.ByteArray(b.payload)}},{key:"setPewBitmask",value:function(a){this._pew_bitmask_|=a}},{key:"unsetPewBitmask",value:function(a){this._pew_bitmask_&=a}},{key:"pewBitmaskIsSetFor",value:function(a){return(this._pew_bitmask_&a)==a}}]),a}();l.key_IS_SET=1,l.ks_IS_SET=2,l.name_IS_SET=4,l.payload_IS_SET=8;var m=b.WireChannelDataUpdate=function(){function a(){e(this,a),this.messageType=4}return f(a,[{key:"serializeJson",value:function(){return JSON.stringify(this)}},{key:"deserializeJson",value:function(a){var b=JSON.parse(a);this.key=b.key,this.ks=b.ks,this.name=b.name,this.payload=new h.ByteArray(b.payload)}},{key:"setPewBitmask",value:function(a){this._pew_bitmask_|=a}},{key:"unsetPewBitmask",value:function(a){this._pew_bitmask_&=a}},{key:"pewBitmaskIsSetFor",value:function(a){return(this._pew_bitmask_&a)==a}}]),a}();m.key_IS_SET=1,m.ks_IS_SET=2,m.name_IS_SET=4,m.payload_IS_SET=8;var n=b.WireChannelJoin=function(){function a(){e(this,a),this.messageType=5}return f(a,[{key:"serializeJson",value:function(){return JSON.stringify(this)}},{key:"deserializeJson",value:function(a){var b=JSON.parse(a);this.name=b.name,this.success=b.success,this.channelPermissions=b.channelPermissions,this.errorMessage=b.errorMessage}},{key:"setPewBitmask",value:function(a){this._pew_bitmask_|=a}},{key:"unsetPewBitmask",value:function(a){this._pew_bitmask_&=a}},{key:"pewBitmaskIsSetFor",value:function(a){return(this._pew_bitmask_&a)==a}}]),a}();n.name_IS_SET=1,n.success_IS_SET=2,n.channelPermissions_IS_SET=4,n.errorMessage_IS_SET=8;var o=b.WireChannelLeave=function(){function a(){e(this,a),this.messageType=6}return f(a,[{key:"serializeJson",value:function(){return JSON.stringify(this)}},{key:"deserializeJson",value:function(a){var b=JSON.parse(a);this.name=b.name}},{key:"setPewBitmask",value:function(a){this._pew_bitmask_|=a}},{key:"unsetPewBitmask",value:function(a){this._pew_bitmask_&=a}},{key:"pewBitmaskIsSetFor",value:function(a){return(this._pew_bitmask_&a)==a}}]),a}();o.name_IS_SET=1;var p=b.WireChannelMessage=function(){function a(){e(this,a),this.messageType=7}return f(a,[{key:"serializeJson",value:function(){return JSON.stringify(this)}},{key:"deserializeJson",value:function(a){var b=JSON.parse(a);this.senderId=b.senderId,this.name=b.name,this.payload=new h.ByteArray(b.payload)}},{key:"setPewBitmask",value:function(a){this._pew_bitmask_|=a}},{key:"unsetPewBitmask",value:function(a){this._pew_bitmask_&=a}},{key:"pewBitmaskIsSetFor",value:function(a){return(this._pew_bitmask_&a)==a}}]),a}();p.senderId_IS_SET=1,p.name_IS_SET=2,p.payload_IS_SET=4;var q=b.WireChannelSubscribe=function(){function a(){e(this,a),this.messageType=8}return f(a,[{key:"serializeJson",value:function(){return JSON.stringify(this)}},{key:"deserializeJson",value:function(a){var b=JSON.parse(a);this.name=b.name,this.jsonConfig=b.jsonConfig}},{key:"setPewBitmask",value:function(a){this._pew_bitmask_|=a}},{key:"unsetPewBitmask",value:function(a){this._pew_bitmask_&=a}},{key:"pewBitmaskIsSetFor",value:function(a){return(this._pew_bitmask_&a)==a}}]),a}();q.name_IS_SET=1,q.jsonConfig_IS_SET=2;var r=b.WireChannelUnSubscribe=function(){function a(){e(this,a),this.messageType=9}return f(a,[{key:"serializeJson",value:function(){return JSON.stringify(this)}},{key:"deserializeJson",value:function(a){var b=JSON.parse(a);this.name=b.name}},{key:"setPewBitmask",value:function(a){this._pew_bitmask_|=a}},{key:"unsetPewBitmask",value:function(a){this._pew_bitmask_&=a}},{key:"pewBitmaskIsSetFor",value:function(a){return(this._pew_bitmask_&a)==a}}]),a}();r.name_IS_SET=1;var s=b.WireConnectFailure=function(){function a(){e(this,a),this.messageType=10}return f(a,[{key:"serializeJson",value:function(){return JSON.stringify(this)}},{key:"deserializeJson",value:function(a){var b=JSON.parse(a);this.failureMessage=b.failureMessage}},{key:"setPewBitmask",value:function(a){this._pew_bitmask_|=a}},{key:"unsetPewBitmask",value:function(a){this._pew_bitmask_&=a}},{key:"pewBitmaskIsSetFor",value:function(a){return(this._pew_bitmask_&a)==a}}]),a}();s.failureMessage_IS_SET=1;var t=b.WireConnectRequest=function(){function a(){e(this,a),this.messageType=11}return f(a,[{key:"serializeJson",value:function(){return JSON.stringify(this)}},{key:"deserializeJson",value:function(a){var b=JSON.parse(a);this.version=b.version,this.clientKey=b.clientKey}},{key:"setPewBitmask",value:function(a){this._pew_bitmask_|=a}},{key:"unsetPewBitmask",value:function(a){this._pew_bitmask_&=a}},{key:"pewBitmaskIsSetFor",value:function(a){return(this._pew_bitmask_&a)==a}}]),a}();t.version_IS_SET=1,t.clientKey_IS_SET=2;var u=b.WireConnectSuccess=function(){function a(){e(this,a),this.messageType=12}return f(a,[{key:"serializeJson",value:function(){return JSON.stringify(this)}},{key:"deserializeJson",value:function(a){var b=JSON.parse(a);this.clientId=b.clientId,this.clientToServerPingMS=b.clientToServerPingMS}},{key:"setPewBitmask",value:function(a){this._pew_bitmask_|=a}},{key:"unsetPewBitmask",value:function(a){this._pew_bitmask_&=a}},{key:"pewBitmaskIsSetFor",value:function(a){return(this._pew_bitmask_&a)==a}}]),a}();u.clientId_IS_SET=1,u.clientToServerPingMS_IS_SET=2;var v=b.WireDisconnectRequest=function(){function a(){e(this,a),this.messageType=13}return f(a,[{key:"serializeJson",value:function(){return JSON.stringify(this)}},{key:"deserializeJson",value:function(a){JSON.parse(a)}},{key:"setPewBitmask",value:function(a){this._pew_bitmask_|=a}},{key:"unsetPewBitmask",value:function(a){this._pew_bitmask_&=a}},{key:"pewBitmaskIsSetFor",value:function(a){return(this._pew_bitmask_&a)==a}}]),a}(),w=b.WireDisconnectSuccess=function(){function a(){e(this,a),this.messageType=14}return f(a,[{key:"serializeJson",value:function(){return JSON.stringify(this)}},{key:"deserializeJson",value:function(a){JSON.parse(a)}},{key:"setPewBitmask",value:function(a){this._pew_bitmask_|=a}},{key:"unsetPewBitmask",value:function(a){this._pew_bitmask_&=a}},{key:"pewBitmaskIsSetFor",value:function(a){return(this._pew_bitmask_&a)==a}}]),a}(),x=b.WirePing=function(){function a(){e(this,a),this.messageType=15}return f(a,[{key:"serializeJson",value:function(){return JSON.stringify(this)}},{key:"deserializeJson",value:function(a){JSON.parse(a)}},{key:"setPewBitmask",value:function(a){this._pew_bitmask_|=a}},{key:"unsetPewBitmask",value:function(a){this._pew_bitmask_&=a}},{key:"pewBitmaskIsSetFor",value:function(a){return(this._pew_bitmask_&a)==a}}]),a}(),y=b.WirePong=function(){function a(){e(this,a),this.messageType=16}return f(a,[{key:"serializeJson",value:function(){return JSON.stringify(this)}},{key:"deserializeJson",value:function(a){JSON.parse(a)}},{key:"setPewBitmask",value:function(a){this._pew_bitmask_|=a}},{key:"unsetPewBitmask",value:function(a){this._pew_bitmask_&=a}},{key:"pewBitmaskIsSetFor",value:function(a){return(this._pew_bitmask_&a)==a}}]),a}(),z=b.WireQueueMessage=function(){function a(){e(this,a),this.messageType=17}return f(a,[{key:"serializeJson",value:function(){return JSON.stringify(this)}},{key:"deserializeJson",value:function(a){var b=JSON.parse(a);this.id=b.id,this.name=b.name,this.payload=new h.ByteArray(b.payload)}},{key:"setPewBitmask",value:function(a){this._pew_bitmask_|=a}},{key:"unsetPewBitmask",value:function(a){this._pew_bitmask_&=a}},{key:"pewBitmaskIsSetFor",value:function(a){return(this._pew_bitmask_&a)==a}}]),a}();z.id_IS_SET=1,z.name_IS_SET=2,z.payload_IS_SET=4;var A=b.WireRpcMessage=function(){function a(){e(this,a),this.messageType=18}return f(a,[{key:"serializeJson",value:function(){return JSON.stringify(this)}},{key:"deserializeJson",value:function(a){var b=JSON.parse(a);this.id=b.id,this.ns=b.ns,this.payload=new h.ByteArray(b.payload)}},{key:"setPewBitmask",value:function(a){this._pew_bitmask_|=a}},{key:"unsetPewBitmask",value:function(a){this._pew_bitmask_&=a}},{key:"pewBitmaskIsSetFor",value:function(a){return(this._pew_bitmask_&a)==a}}]),a}();A.id_IS_SET=1,A.ns_IS_SET=2,A.payload_IS_SET=4},function(a,b,c){var d,e,f;"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol?"symbol":typeof a};!function(g){e=[c(16),c(15),c(21),c(22),c(23),c(24),c(31),c(25),c(26),c(27),c(28),c(29),c(30)],d=g,f="function"==typeof d?d.apply(b,e):d,!(void 0!==f&&(a.exports=f))}(function(a,b,c,d,e,f,g,h,i,j,k,l,m){"use strict";var n={ApiClient:a,AuthDeviceRequest:b,AuthDeviceResponse:c,AuthResponse:d,AuthUserRequest:e,AuthUserResponse:f,CreateDeviceRequest:g,CreateDeviceResponse:h,CreateUserRequest:i,CreateUserResponse:j,PingResponse:k,QueryDevicesResponse:l,DefaultApi:m};return n});
},function(a,b,c){var d,e,f;"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol?"symbol":typeof a};!function(g,h){e=[c(16)],d=h,f="function"==typeof d?d.apply(b,e):d,!(void 0!==f&&(a.exports=f))}(void 0,function(a){"use strict";var b=function(a,b){this.id=a,this.secret=b};return b.constructFromObject=function(c,d){return c&&(d=d||new b,c.hasOwnProperty("id")&&(d.id=a.convertToType(c.id,"String")),c.hasOwnProperty("secret")&&(d.secret=a.convertToType(c.secret,"String"))),d},b.prototype.id=void 0,b.prototype.secret=void 0,b})},function(a,b,c){var d,e,f;(function(g){"use strict";var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol?"symbol":typeof a};!function(g,h){e=[c(17)],d=h,f="function"==typeof d?d.apply(b,e):d,!(void 0!==f&&(a.exports=f))}(void 0,function(a){var b=function(){this.basePath="http://localhost:8888/api/v1".replace(/\/+$/,""),this.authentications={},this.defaultHeaders={},this.timeout=6e4};return b.prototype.paramToString=function(a){return void 0==a||null==a?"":a instanceof Date?a.toJSON():a.toString()},b.prototype.buildUrl=function(a,b){a.match(/^\//)||(a="/"+a);var c=this.basePath+a,d=this;return c=c.replace(/\{([\w-]+)\}/g,function(a,c){var e;return e=b.hasOwnProperty(c)?d.paramToString(b[c]):a,encodeURIComponent(e)})},b.prototype.isJsonMime=function(a){return Boolean(null!=a&&a.match(/^application\/json(;.*)?$/i))},b.prototype.jsonPreferredMime=function(a){for(var b=0;b<a.length;b++)if(this.isJsonMime(a[b]))return a[b];return a[0]},b.prototype.isFileParam=function(a){return"undefined"==typeof window&&c(20)&&a instanceof c(20).ReadStream?!0:"function"==typeof g&&a instanceof g?!0:"function"==typeof Blob&&a instanceof Blob?!0:"function"==typeof File&&a instanceof File},b.prototype.normalizeParams=function(a){var b={};for(var c in a)if(a.hasOwnProperty(c)&&void 0!=a[c]&&null!=a[c]){var d=a[c];this.isFileParam(d)||Array.isArray(d)?b[c]=d:b[c]=this.paramToString(d)}return b},b.CollectionFormatEnum={CSV:",",SSV:" ",TSV:"	",PIPES:"|",MULTI:"multi"},b.prototype.buildCollectionParam=function(a,b){if(null==a)return null;switch(b){case"csv":return a.map(this.paramToString).join(",");case"ssv":return a.map(this.paramToString).join(" ");case"tsv":return a.map(this.paramToString).join("	");case"pipes":return a.map(this.paramToString).join("|");case"multi":return a.map(this.paramToString);default:throw new Error("Unknown collection format: "+b)}},b.prototype.applyAuthToRequest=function(a,b){var c=this;b.forEach(function(b){var d=c.authentications[b];switch(d.type){case"basic":(d.username||d.password)&&a.auth(d.username||"",d.password||"");break;case"apiKey":if(d.apiKey){var e={};d.apiKeyPrefix?e[d.name]=d.apiKeyPrefix+" "+d.apiKey:e[d.name]=d.apiKey,"header"===d["in"]?a.set(e):a.query(e)}break;case"oauth2":d.accessToken&&a.set({Authorization:"Bearer "+d.accessToken});break;default:throw new Error("Unknown authentication type: "+d.type)}})},b.prototype.deserialize=function(a,c){if(null==a||null==c)return null;var d=a.body;return null==d&&(d=a.text),b.convertToType(d,c)},b.prototype.callApi=function(b,c,d,e,f,g,h,i,j,k,l,m){var n=this,o=this.buildUrl(b,d),p=a(c,o);this.applyAuthToRequest(p,i),p.query(this.normalizeParams(e)),p.set(this.defaultHeaders).set(this.normalizeParams(f)),p.timeout(this.timeout);var q=this.jsonPreferredMime(j);if(q?p.type(q):p.header["Content-Type"]||p.type("application/json"),"application/x-www-form-urlencoded"===q)p.send(this.normalizeParams(g));else if("multipart/form-data"==q){var r=this.normalizeParams(g);for(var s in r)r.hasOwnProperty(s)&&(this.isFileParam(r[s])?p.attach(s,r[s]):p.field(s,r[s]))}else h&&p.send(h);var t=this.jsonPreferredMime(k);return t&&p.accept(t),p.end(function(a,b){if(m){var c=null;a||(c=n.deserialize(b,l)),m(a,c,b)}}),p},b.parseDate=function(a){return new Date(a.replace(/T/i," "))},b.convertToType=function(a,c){switch(c){case"Boolean":return Boolean(a);case"Integer":return parseInt(a,10);case"Number":return parseFloat(a);case"String":return String(a);case"Date":return this.parseDate(String(a));default:if(c===Object)return a;if("function"==typeof c)return c.constructFromObject(a);if(Array.isArray(c)){var d=c[0];return a.map(function(a){return b.convertToType(a,d)})}if("object"===("undefined"==typeof c?"undefined":h(c))){var e,f;for(var g in c)if(c.hasOwnProperty(g)){e=g,f=c[g];break}var i={};for(var g in a)if(a.hasOwnProperty(g)){var j=b.convertToType(g,e),k=b.convertToType(a[g],f);i[j]=k}return i}return a}},b.instance=new b,b})}).call(b,c(9).Buffer)},function(a,b,c){function d(){}function e(a){var b={}.toString.call(a);switch(b){case"[object File]":case"[object Blob]":case"[object FormData]":return!0;default:return!1}}function f(a){return a===Object(a)}function g(a){if(!f(a))return a;var b=[];for(var c in a)null!=a[c]&&h(b,c,a[c]);return b.join("&")}function h(a,b,c){return Array.isArray(c)?c.forEach(function(c){h(a,b,c)}):void a.push(encodeURIComponent(b)+"="+encodeURIComponent(c))}function i(a){for(var b,c,d={},e=a.split("&"),f=0,g=e.length;g>f;++f)c=e[f],b=c.split("="),d[decodeURIComponent(b[0])]=decodeURIComponent(b[1]);return d}function j(a){var b,c,d,e,f=a.split(/\r?\n/),g={};f.pop();for(var h=0,i=f.length;i>h;++h)c=f[h],b=c.indexOf(":"),d=c.slice(0,b).toLowerCase(),e=u(c.slice(b+1)),g[d]=e;return g}function k(a){return/[\/+]json\b/.test(a)}function l(a){return a.split(/ *; */).shift()}function m(a){return t(a.split(/ *; */),function(a,b){var c=b.split(/ *= */),d=c.shift(),e=c.shift();return d&&e&&(a[d]=e),a},{})}function n(a,b){b=b||{},this.req=a,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||"undefined"==typeof this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText,this.setStatusProperties(this.xhr.status),this.header=this.headers=j(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this.setHeaderProperties(this.header),this.body="HEAD"!=this.req.method?this.parseBody(this.text?this.text:this.xhr.response):null}function o(a,b){var c=this;s.call(this),this._query=this._query||[],this.method=a,this.url=b,this.header={},this._header={},this.on("end",function(){var a=null,b=null;try{b=new n(c)}catch(d){return a=new Error("Parser is unable to parse the response"),a.parse=!0,a.original=d,a.rawResponse=c.xhr&&c.xhr.responseText?c.xhr.responseText:null,c.callback(a)}if(c.emit("response",b),a)return c.callback(a,b);if(b.status>=200&&b.status<300)return c.callback(a,b);var e=new Error(b.statusText||"Unsuccessful HTTP response");e.original=a,e.response=b,e.status=b.status,c.callback(e,b)})}function p(a,b){return"function"==typeof b?new o("GET",a).end(b):1==arguments.length?new o("GET",a):new o(a,b)}function q(a,b){var c=p("DELETE",a);return b&&c.end(b),c}var r,s=c(18),t=c(19);r="undefined"!=typeof window?window:"undefined"!=typeof self?self:this,p.getXHR=function(){if(!(!r.XMLHttpRequest||r.location&&"file:"==r.location.protocol&&r.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(a){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(a){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(a){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(a){}return!1};var u="".trim?function(a){return a.trim()}:function(a){return a.replace(/(^\s*|\s*$)/g,"")};p.serializeObject=g,p.parseString=i,p.types={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},p.serialize={"application/x-www-form-urlencoded":g,"application/json":JSON.stringify},p.parse={"application/x-www-form-urlencoded":i,"application/json":JSON.parse},n.prototype.get=function(a){return this.header[a.toLowerCase()]},n.prototype.setHeaderProperties=function(a){var b=this.header["content-type"]||"";this.type=l(b);var c=m(b);for(var d in c)this[d]=c[d]},n.prototype.parseBody=function(a){var b=p.parse[this.type];return b&&a&&(a.length||a instanceof Object)?b(a):null},n.prototype.setStatusProperties=function(a){1223===a&&(a=204);var b=a/100|0;this.status=this.statusCode=a,this.statusType=b,this.info=1==b,this.ok=2==b,this.clientError=4==b,this.serverError=5==b,this.error=4==b||5==b?this.toError():!1,this.accepted=202==a,this.noContent=204==a,this.badRequest=400==a,this.unauthorized=401==a,this.notAcceptable=406==a,this.notFound=404==a,this.forbidden=403==a},n.prototype.toError=function(){var a=this.req,b=a.method,c=a.url,d="cannot "+b+" "+c+" ("+this.status+")",e=new Error(d);return e.status=this.status,e.method=b,e.url=c,e},p.Response=n,s(o.prototype),o.prototype.use=function(a){return a(this),this},o.prototype.timeout=function(a){return this._timeout=a,this},o.prototype.clearTimeout=function(){return this._timeout=0,clearTimeout(this._timer),this},o.prototype.abort=function(){return this.aborted?void 0:(this.aborted=!0,this.xhr.abort(),this.clearTimeout(),this.emit("abort"),this)},o.prototype.set=function(a,b){if(f(a)){for(var c in a)this.set(c,a[c]);return this}return this._header[a.toLowerCase()]=b,this.header[a]=b,this},o.prototype.unset=function(a){return delete this._header[a.toLowerCase()],delete this.header[a],this},o.prototype.getHeader=function(a){return this._header[a.toLowerCase()]},o.prototype.type=function(a){return this.set("Content-Type",p.types[a]||a),this},o.prototype.parse=function(a){return this._parser=a,this},o.prototype.accept=function(a){return this.set("Accept",p.types[a]||a),this},o.prototype.auth=function(a,b){var c=btoa(a+":"+b);return this.set("Authorization","Basic "+c),this},o.prototype.query=function(a){return"string"!=typeof a&&(a=g(a)),a&&this._query.push(a),this},o.prototype.field=function(a,b){return this._formData||(this._formData=new r.FormData),this._formData.append(a,b),this},o.prototype.attach=function(a,b,c){return this._formData||(this._formData=new r.FormData),this._formData.append(a,b,c||b.name),this},o.prototype.send=function(a){var b=f(a),c=this.getHeader("Content-Type");if(b&&f(this._data))for(var d in a)this._data[d]=a[d];else"string"==typeof a?(c||this.type("form"),c=this.getHeader("Content-Type"),"application/x-www-form-urlencoded"==c?this._data=this._data?this._data+"&"+a:a:this._data=(this._data||"")+a):this._data=a;return!b||e(a)?this:(c||this.type("json"),this)},o.prototype.callback=function(a,b){var c=this._callback;this.clearTimeout(),c(a,b)},o.prototype.crossDomainError=function(){var a=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");a.crossDomain=!0,a.status=this.status,a.method=this.method,a.url=this.url,this.callback(a)},o.prototype.timeoutError=function(){var a=this._timeout,b=new Error("timeout of "+a+"ms exceeded");b.timeout=a,this.callback(b)},o.prototype.withCredentials=function(){return this._withCredentials=!0,this},o.prototype.end=function(a){var b=this,c=this.xhr=p.getXHR(),f=this._query.join("&"),g=this._timeout,h=this._formData||this._data;this._callback=a||d,c.onreadystatechange=function(){if(4==c.readyState){var a;try{a=c.status}catch(d){a=0}if(0==a){if(b.timedout)return b.timeoutError();if(b.aborted)return;return b.crossDomainError()}b.emit("end")}};var i=function(a){a.total>0&&(a.percent=a.loaded/a.total*100),a.direction="download",b.emit("progress",a)};this.hasListeners("progress")&&(c.onprogress=i);try{c.upload&&this.hasListeners("progress")&&(c.upload.onprogress=i)}catch(j){}if(g&&!this._timer&&(this._timer=setTimeout(function(){b.timedout=!0,b.abort()},g)),f&&(f=p.serializeObject(f),this.url+=~this.url.indexOf("?")?"&"+f:"?"+f),c.open(this.method,this.url,!0),this._withCredentials&&(c.withCredentials=!0),"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof h&&!e(h)){var l=this.getHeader("Content-Type"),m=this._parser||p.serialize[l?l.split(";")[0]:""];!m&&k(l)&&(m=p.serialize["application/json"]),m&&(h=m(h))}for(var n in this.header)null!=this.header[n]&&c.setRequestHeader(n,this.header[n]);return this.emit("request",this),c.send("undefined"!=typeof h?h:null),this},o.prototype.then=function(a,b){return this.end(function(c,d){c?b(c):a(d)})},p.Request=o,p.get=function(a,b,c){var d=p("GET",a);return"function"==typeof b&&(c=b,b=null),b&&d.query(b),c&&d.end(c),d},p.head=function(a,b,c){var d=p("HEAD",a);return"function"==typeof b&&(c=b,b=null),b&&d.send(b),c&&d.end(c),d},p.del=q,p["delete"]=q,p.patch=function(a,b,c){var d=p("PATCH",a);return"function"==typeof b&&(c=b,b=null),b&&d.send(b),c&&d.end(c),d},p.post=function(a,b,c){var d=p("POST",a);return"function"==typeof b&&(c=b,b=null),b&&d.send(b),c&&d.end(c),d},p.put=function(a,b,c){var d=p("PUT",a);return"function"==typeof b&&(c=b,b=null),b&&d.send(b),c&&d.end(c),d},a.exports=p},function(a,b,c){function d(a){return a?e(a):void 0}function e(a){for(var b in d.prototype)a[b]=d.prototype[b];return a}a.exports=d,d.prototype.on=d.prototype.addEventListener=function(a,b){return this._callbacks=this._callbacks||{},(this._callbacks["$"+a]=this._callbacks["$"+a]||[]).push(b),this},d.prototype.once=function(a,b){function c(){this.off(a,c),b.apply(this,arguments)}return c.fn=b,this.on(a,c),this},d.prototype.off=d.prototype.removeListener=d.prototype.removeAllListeners=d.prototype.removeEventListener=function(a,b){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var c=this._callbacks["$"+a];if(!c)return this;if(1==arguments.length)return delete this._callbacks["$"+a],this;for(var d,e=0;e<c.length;e++)if(d=c[e],d===b||d.fn===b){c.splice(e,1);break}return this},d.prototype.emit=function(a){this._callbacks=this._callbacks||{};var b=[].slice.call(arguments,1),c=this._callbacks["$"+a];if(c){c=c.slice(0);for(var d=0,e=c.length;e>d;++d)c[d].apply(this,b)}return this},d.prototype.listeners=function(a){return this._callbacks=this._callbacks||{},this._callbacks["$"+a]||[]},d.prototype.hasListeners=function(a){return!!this.listeners(a).length}},function(a,b){a.exports=function(a,b,c){for(var d=0,e=a.length,f=3==arguments.length?c:a[d++];e>d;)f=b.call(null,f,a[d],++d,a);return f}},function(a,b){},function(a,b,c){var d,e,f;"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol?"symbol":typeof a};!function(g,h){e=[c(16)],d=h,f="function"==typeof d?d.apply(b,e):d,!(void 0!==f&&(a.exports=f))}(void 0,function(a){"use strict";var b=function(a){this.authenticated=a};return b.constructFromObject=function(c,d){return c&&(d=d||new b,c.hasOwnProperty("authenticated")&&(d.authenticated=a.convertToType(c.authenticated,"Boolean"))),d},b.prototype.authenticated=void 0,b})},function(a,b,c){var d,e,f;"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol?"symbol":typeof a};!function(g,h){e=[c(16)],d=h,f="function"==typeof d?d.apply(b,e):d,!(void 0!==f&&(a.exports=f))}(void 0,function(a){"use strict";var b=function(a){this.authenticated=a};return b.constructFromObject=function(c,d){return c&&(d=d||new b,c.hasOwnProperty("authenticated")&&(d.authenticated=a.convertToType(c.authenticated,"Boolean")),c.hasOwnProperty("clientKey")&&(d.clientKey=a.convertToType(c.clientKey,"String"))),d},b.prototype.authenticated=void 0,b.prototype.clientKey=void 0,b})},function(a,b,c){var d,e,f;"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol?"symbol":typeof a};!function(g,h){e=[c(16)],d=h,f="function"==typeof d?d.apply(b,e):d,!(void 0!==f&&(a.exports=f))}(void 0,function(a){"use strict";var b=function(a,b){this.email=a,this.password=b};return b.constructFromObject=function(c,d){return c&&(d=d||new b,c.hasOwnProperty("email")&&(d.email=a.convertToType(c.email,"String")),c.hasOwnProperty("password")&&(d.password=a.convertToType(c.password,"String"))),d},b.prototype.email=void 0,b.prototype.password=void 0,b})},function(a,b,c){var d,e,f;"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol?"symbol":typeof a};!function(g,h){e=[c(16)],d=h,f="function"==typeof d?d.apply(b,e):d,!(void 0!==f&&(a.exports=f))}(void 0,function(a){"use strict";var b=function(a){this.authenticated=a};return b.constructFromObject=function(c,d){return c&&(d=d||new b,c.hasOwnProperty("authenticated")&&(d.authenticated=a.convertToType(c.authenticated,"Boolean"))),d},b.prototype.authenticated=void 0,b})},function(a,b,c){var d,e,f;"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol?"symbol":typeof a};!function(g,h){e=[c(16)],d=h,f="function"==typeof d?d.apply(b,e):d,!(void 0!==f&&(a.exports=f))}(void 0,function(a){"use strict";var b=function(a){this.created=a};return b.constructFromObject=function(c,d){return c&&(d=d||new b,c.hasOwnProperty("created")&&(d.created=a.convertToType(c.created,"Boolean"))),d},b.prototype.created=void 0,b})},function(a,b,c){var d,e,f;"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol?"symbol":typeof a};!function(g,h){e=[c(16)],d=h,f="function"==typeof d?d.apply(b,e):d,!(void 0!==f&&(a.exports=f))}(void 0,function(a){"use strict";var b=function(a,b){this.email=a,this.password=b};return b.constructFromObject=function(c,d){return c&&(d=d||new b,c.hasOwnProperty("email")&&(d.email=a.convertToType(c.email,"String")),c.hasOwnProperty("password")&&(d.password=a.convertToType(c.password,"String"))),d},b.prototype.email=void 0,b.prototype.password=void 0,b})},function(a,b,c){var d,e,f;"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol?"symbol":typeof a};!function(g,h){e=[c(16)],d=h,f="function"==typeof d?d.apply(b,e):d,!(void 0!==f&&(a.exports=f))}(void 0,function(a){"use strict";var b=function(a){this.created=a};return b.constructFromObject=function(c,d){return c&&(d=d||new b,c.hasOwnProperty("created")&&(d.created=a.convertToType(c.created,"Boolean"))),d},b.prototype.created=void 0,b})},function(a,b,c){var d,e,f;"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol?"symbol":typeof a};!function(g,h){e=[c(16)],d=h,f="function"==typeof d?d.apply(b,e):d,!(void 0!==f&&(a.exports=f))}(void 0,function(a){"use strict";var b=function(a){this.pong=a};return b.constructFromObject=function(c,d){return c&&(d=d||new b,c.hasOwnProperty("pong")&&(d.pong=a.convertToType(c.pong,"Boolean"))),d},b.prototype.pong=void 0,b})},function(a,b,c){var d,e,f;"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol?"symbol":typeof a};!function(g,h){e=[c(16)],d=h,f="function"==typeof d?d.apply(b,e):d,!(void 0!==f&&(a.exports=f))}(void 0,function(a){"use strict";var b=function(){};return b.constructFromObject=function(c,d){return c&&(d=d||new b,c.hasOwnProperty("devices")&&(d.devices=a.convertToType(c.devices,[Object]))),d},b.prototype.devices=void 0,b})},function(a,b,c){var d,e,f;"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol?"symbol":typeof a};!function(g,h){e=[c(16),c(22),c(21),c(15),c(24),c(23),c(25),c(31),c(27),c(26),c(28),c(29)],d=h,f="function"==typeof d?d.apply(b,e):d,!(void 0!==f&&(a.exports=f))}(void 0,function(a,b,c,d,e,f,g,h,i,j,k,l){"use strict";var m=function(d){this.apiClient=d||a.instance,this.authAnon=function(a){var c=null,d={},e={},f={},g={},h=[],i=["application/json","application/octet-stream"],j=["application/json"],k=b;return this.apiClient.callApi("/auth/anonymous","POST",d,e,f,g,c,h,i,j,k,a)},this.authDevice=function(a,b){var d=a;if(void 0==a||null==a)throw"Missing the required parameter 'body' when calling authDevice";var e={},f={},g={},h={},i=[],j=["application/json"],k=["application/json"],l=c;return this.apiClient.callApi("/auth/device","POST",e,f,g,h,d,i,j,k,l,b)},this.authUser=function(a,b){var c=a;if(void 0==a||null==a)throw"Missing the required parameter 'body' when calling authUser";var d={},f={},g={},h={},i=[],j=["application/json"],k=["application/json"],l=e;return this.apiClient.callApi("/auth/user","POST",d,f,g,h,c,i,j,k,l,b)},this.create=function(a,b){var c=a;if(void 0==a||null==a)throw"Missing the required parameter 'body' when calling create";var d={},e={},f={},h={},i=[],j=["application/json"],k=["application/json"],l=g;return this.apiClient.callApi("/devices","POST",d,e,f,h,c,i,j,k,l,b)},this.createUser=function(a,b){var c=a;if(void 0==a||null==a)throw"Missing the required parameter 'body' when calling createUser";var d={},e={},f={},g={},h=[],j=["application/json"],k=["application/json"],l=i;return this.apiClient.callApi("/users","POST",d,e,f,g,c,h,j,k,l,b)},this.getPing=function(a){var b=null,c={},d={},e={},f={},g=[],h=["application/json"],i=["application/json"],j=k;return this.apiClient.callApi("/ping","GET",c,d,e,f,b,g,h,i,j,a)},this.headPing=function(a){var b=null,c={},d={},e={},f={},g=[],h=["application/json"],i=["application/json"],j=k;return this.apiClient.callApi("/ping","HEAD",c,d,e,f,b,g,h,i,j,a)},this.query=function(a,b){a=a||{};var c=null,d={},e={tags:a.tags},f={},g={},h=[],i=["application/json"],j=["application/json"],k=l;return this.apiClient.callApi("/devices","GET",d,e,f,g,c,h,i,j,k,b)},this.resetPassword=function(a,b){var c=null;if(void 0==a||null==a)throw"Missing the required parameter 'email' when calling resetPassword";var d={email:a},e={},f={},g={},h=[],j=["application/json","application/octet-stream"],k=["application/json"],l=i;return this.apiClient.callApi("/users/{email}/resetPassword","POST",d,e,f,g,c,h,j,k,l,b)}};return m})},function(a,b,c){var d,e,f;"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol?"symbol":typeof a};!function(g,h){e=[c(16)],d=h,f="function"==typeof d?d.apply(b,e):d,!(void 0!==f&&(a.exports=f))}(void 0,function(a){"use strict";var b=function(){};return b.constructFromObject=function(c,d){return c&&(d=d||new b,c.hasOwnProperty("tags")&&(d.tags=a.convertToType(c.tags,["String"]))),d},b.prototype.tags=void 0,b})},function(a,b,c){(function(b){"use strict";var d=c(33);a.exports=c(80)(d),"_sockjs_onload"in b&&setTimeout(b._sockjs_onload,1)}).call(b,function(){return this}())},function(a,b,c){"use strict";a.exports=[c(34),c(51),c(61),c(63),c(66)(c(63)),c(73),c(66)(c(73)),c(75),c(76),c(66)(c(75)),c(77)]},function(a,b,c){(function(b){"use strict";function d(a){if(!d.enabled())throw new Error("Transport created when disabled");h.call(this),j("constructor",a);var b=this,c=f.addPath(a,"/websocket");c="https"===c.slice(0,5)?"wss"+c.slice(5):"ws"+c.slice(4),this.url=c,this.ws=new i(this.url),this.ws.onmessage=function(a){j("message event",a.data),b.emit("message",a.data)},this.unloadRef=e.unloadAdd(function(){j("unload"),b.ws.close()}),this.ws.onclose=function(a){j("close event",a.code,a.reason),b.emit("close",a.code,a.reason),b._cleanup()},this.ws.onerror=function(a){j("error event",a),b.emit("close",1006,"WebSocket connection broken"),b._cleanup()}}var e=c(36),f=c(39),g=c(47),h=c(48).EventEmitter,i=c(50),j=function(){};"production"!==b.env.NODE_ENV&&(j=c(44)("sockjs-client:websocket")),g(d,h),d.prototype.send=function(a){var b="["+a+"]";j("send",b),this.ws.send(b)},d.prototype.close=function(){j("close"),this.ws&&this.ws.close(),this._cleanup()},d.prototype._cleanup=function(){j("_cleanup");var a=this.ws;a&&(a.onmessage=a.onclose=a.onerror=null),e.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()},d.enabled=function(){return j("enabled"),!!i},d.transportName="websocket",d.roundTrips=2,a.exports=d}).call(b,c(35))},function(a,b){function c(){j=!1,g.length?i=g.concat(i):k=-1,i.length&&d()}function d(){if(!j){var a=setTimeout(c);j=!0;for(var b=i.length;b;){for(g=i,i=[];++k<b;)g&&g[k].run();k=-1,b=i.length}g=null,j=!1,clearTimeout(a)}}function e(a,b){this.fun=a,this.array=b}function f(){}var g,h=a.exports={},i=[],j=!1,k=-1;h.nextTick=function(a){var b=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];i.push(new e(a,b)),1!==i.length||j||setTimeout(d,0)},e.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=f,h.addListener=f,h.once=f,h.off=f,h.removeListener=f,h.removeAllListeners=f,h.emit=f,h.binding=function(a){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(a){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(a,b,c){(function(b){"use strict";var d=c(37),e={},f=!1,g=b.chrome&&b.chrome.app&&b.chrome.app.runtime;a.exports={attachEvent:function(a,c){"undefined"!=typeof b.addEventListener?b.addEventListener(a,c,!1):b.document&&b.attachEvent&&(b.document.attachEvent("on"+a,c),b.attachEvent("on"+a,c))},detachEvent:function(a,c){"undefined"!=typeof b.addEventListener?b.removeEventListener(a,c,!1):b.document&&b.detachEvent&&(b.document.detachEvent("on"+a,c),b.detachEvent("on"+a,c))},unloadAdd:function(a){if(g)return null;var b=d.string(8);return e[b]=a,f&&setTimeout(this.triggerUnloadCallbacks,0),b},unloadDel:function(a){a in e&&delete e[a]},triggerUnloadCallbacks:function(){for(var a in e)e[a](),delete e[a]}};var h=function(){f||(f=!0,a.exports.triggerUnloadCallbacks())};g||a.exports.attachEvent("unload",h)}).call(b,function(){return this}())},function(a,b,c){"use strict";var d=c(38),e="abcdefghijklmnopqrstuvwxyz012345";a.exports={string:function(a){for(var b=e.length,c=d.randomBytes(a),f=[],g=0;a>g;g++)f.push(e.substr(c[g]%b,1));return f.join("")},number:function(a){return Math.floor(Math.random()*a)},numberString:function(a){var b=(""+(a-1)).length,c=new Array(b+1).join("0");return(c+this.number(a)).slice(-b)}}},function(a,b){(function(b){"use strict";b.crypto&&b.crypto.getRandomValues?a.exports.randomBytes=function(a){var c=new Uint8Array(a);return b.crypto.getRandomValues(c),c}:a.exports.randomBytes=function(a){for(var b=new Array(a),c=0;a>c;c++)b[c]=Math.floor(256*Math.random());return b}}).call(b,function(){return this}())},function(a,b,c){(function(b){"use strict";var d=c(40),e=function(){};"production"!==b.env.NODE_ENV&&(e=c(44)("sockjs-client:utils:url")),a.exports={getOrigin:function(a){if(!a)return null;var b=new d(a);if("file:"===b.protocol)return null;var c=b.port;return c||(c="https:"===b.protocol?"443":"80"),b.protocol+"//"+b.hostname+":"+c},isOriginEqual:function(a,b){var c=this.getOrigin(a)===this.getOrigin(b);return e("same",a,b,c),c},isSchemeEqual:function(a,b){return a.split(":")[0]===b.split(":")[0]},addPath:function(a,b){var c=a.split("?");return c[0]+b+(c[1]?"?"+c[1]:"")},addQuery:function(a,b){return a+(-1===a.indexOf("?")?"?"+b:"&"+b)}}}).call(b,c(35))},function(a,b,c){"use strict";function d(a){var b=j.exec(a);return{protocol:b[1]?b[1].toLowerCase():"",slashes:!!b[2],rest:b[3]?b[3]:""}}function e(a,b,c){if(!(this instanceof e))return new e(a,b,c);var j,l,m,n,o=i.test(a),p=typeof b,q=this,r=0;"object"!==p&&"string"!==p&&(c=b,b=null),c&&"function"!=typeof c&&(c=h.parse),b=g(b);var s=d(a);for(q.protocol=s.protocol||b.protocol||"",q.slashes=s.slashes||b.slashes,a=s.rest;r<k.length;r++)l=k[r],j=l[0],n=l[1],j!==j?q[n]=a:"string"==typeof j?~(m=a.indexOf(j))&&("number"==typeof l[2]?(q[n]=a.slice(0,m),a=a.slice(m+l[2])):(q[n]=a.slice(m),a=a.slice(0,m))):(m=j.exec(a))&&(q[n]=m[1],a=a.slice(0,a.length-m[0].length)),q[n]=q[n]||(l[3]||"port"===n&&o?b[n]||"":""),l[4]&&(q[n]=q[n].toLowerCase());c&&(q.query=c(q.query)),f(q.port,q.protocol)||(q.host=q.hostname,q.port=""),q.username=q.password="",q.auth&&(l=q.auth.split(":"),q.username=l[0]||"",q.password=l[1]||""),q.href=q.toString()}var f=c(41),g=c(42),h=c(43),i=/^\/(?!\/)/,j=/^([a-z0-9.+-]+:)?(\/\/)?(.*)$/i,k=[["#","hash"],["?","query"],["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/\:(\d+)$/,"port"],[NaN,"hostname",void 0,1,1]];e.prototype.set=function(a,b,c){var d=this;return"query"===a?("string"==typeof b&&b.length&&(b=(c||h.parse)(b)),d[a]=b):"port"===a?(d[a]=b,f(b,d.protocol)?b&&(d.host=d.hostname+":"+b):(d.host=d.hostname,d[a]="")):"hostname"===a?(d[a]=b,d.port&&(b+=":"+d.port),d.host=b):"host"===a?(d[a]=b,/\:\d+/.test(b)&&(b=b.split(":"),d.hostname=b[0],d.port=b[1])):"protocol"===a?(d.protocol=b,d.slashes=!c):d[a]=b,d.href=d.toString(),d},e.prototype.toString=function(a){a&&"function"==typeof a||(a=h.stringify);var b,c=this,d=c.protocol;d&&":"!==d.charAt(d.length-1)&&(d+=":");var e=d+(c.slashes?"//":"");return c.username&&(e+=c.username,c.password&&(e+=":"+c.password),e+="@"),e+=c.hostname,c.port&&(e+=":"+c.port),e+=c.pathname,b="object"==typeof c.query?a(c.query):c.query,b&&(e+="?"!==b.charAt(0)?"?"+b:b),c.hash&&(e+=c.hash),e},e.qs=h,e.location=g,a.exports=e},function(a,b){"use strict";a.exports=function(a,b){if(b=b.split(":")[0],a=+a,!a)return!1;switch(b){case"http":case"ws":return 80!==a;case"https":case"wss":return 443!==a;case"ftp":return 21!==a;case"gopher":return 70!==a;case"file":return!1}return 0!==a}},function(a,b,c){(function(b){"use strict";var d,e=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,f={hash:1,query:1};a.exports=function(a){a=a||b.location||{},d=d||c(40);var g,h={},i=typeof a;if("blob:"===a.protocol)h=new d(unescape(a.pathname),{});else if("string"===i){h=new d(a,{});for(g in f)delete h[g]}else if("object"===i){for(g in a)g in f||(h[g]=a[g]);void 0===h.slashes&&(h.slashes=e.test(a.href))}return h}}).call(b,function(){return this}())},function(a,b){"use strict";function c(a){for(var b,c=/([^=?&]+)=([^&]*)/g,d={};b=c.exec(a);d[decodeURIComponent(b[1])]=decodeURIComponent(b[2]));return d}function d(a,b){b=b||"";var c=[];"string"!=typeof b&&(b="?");for(var d in a)e.call(a,d)&&c.push(encodeURIComponent(d)+"="+encodeURIComponent(a[d]));return c.length?b+c.join("&"):""}var e=Object.prototype.hasOwnProperty;b.stringify=d,b.parse=c},function(a,b,c){function d(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function e(){var a=arguments,c=this.useColors;if(a[0]=(c?"%c":"")+this.namespace+(c?" %c":" ")+a[0]+(c?"%c ":" ")+"+"+b.humanize(this.diff),!c)return a;var d="color: "+this.color;a=[a[0],d,"color: inherit"].concat(Array.prototype.slice.call(a,1));var e=0,f=0;return a[0].replace(/%[a-z%]/g,function(a){"%%"!==a&&(e++,"%c"===a&&(f=e))}),a.splice(f,0,d),a}function f(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function g(a){try{null==a?b.storage.removeItem("debug"):b.storage.debug=a}catch(c){}}function h(){var a;try{a=b.storage.debug}catch(c){}return a}function i(){try{return window.localStorage}catch(a){}}b=a.exports=c(45),b.log=f,b.formatArgs=e,b.save=g,b.load=h,b.useColors=d,b.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:i(),b.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],b.formatters.j=function(a){return JSON.stringify(a)},b.enable(h());
},function(a,b,c){function d(){return b.colors[k++%b.colors.length]}function e(a){function c(){}function e(){var a=e,c=+new Date,f=c-(j||c);a.diff=f,a.prev=j,a.curr=c,j=c,null==a.useColors&&(a.useColors=b.useColors()),null==a.color&&a.useColors&&(a.color=d());var g=Array.prototype.slice.call(arguments);g[0]=b.coerce(g[0]),"string"!=typeof g[0]&&(g=["%o"].concat(g));var h=0;g[0]=g[0].replace(/%([a-z%])/g,function(c,d){if("%%"===c)return c;h++;var e=b.formatters[d];if("function"==typeof e){var f=g[h];c=e.call(a,f),g.splice(h,1),h--}return c}),"function"==typeof b.formatArgs&&(g=b.formatArgs.apply(a,g));var i=e.log||b.log||console.log.bind(console);i.apply(a,g)}c.enabled=!1,e.enabled=!0;var f=b.enabled(a)?e:c;return f.namespace=a,f}function f(a){b.save(a);for(var c=(a||"").split(/[\s,]+/),d=c.length,e=0;d>e;e++)c[e]&&(a=c[e].replace(/\*/g,".*?"),"-"===a[0]?b.skips.push(new RegExp("^"+a.substr(1)+"$")):b.names.push(new RegExp("^"+a+"$")))}function g(){b.enable("")}function h(a){var c,d;for(c=0,d=b.skips.length;d>c;c++)if(b.skips[c].test(a))return!1;for(c=0,d=b.names.length;d>c;c++)if(b.names[c].test(a))return!0;return!1}function i(a){return a instanceof Error?a.stack||a.message:a}b=a.exports=e,b.coerce=i,b.disable=g,b.enable=f,b.enabled=h,b.humanize=c(46),b.names=[],b.skips=[],b.formatters={};var j,k=0},function(a,b){function c(a){if(a=""+a,!(a.length>1e4)){var b=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(a);if(b){var c=parseFloat(b[1]),d=(b[2]||"ms").toLowerCase();switch(d){case"years":case"year":case"yrs":case"yr":case"y":return c*k;case"days":case"day":case"d":return c*j;case"hours":case"hour":case"hrs":case"hr":case"h":return c*i;case"minutes":case"minute":case"mins":case"min":case"m":return c*h;case"seconds":case"second":case"secs":case"sec":case"s":return c*g;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c}}}}function d(a){return a>=j?Math.round(a/j)+"d":a>=i?Math.round(a/i)+"h":a>=h?Math.round(a/h)+"m":a>=g?Math.round(a/g)+"s":a+"ms"}function e(a){return f(a,j,"day")||f(a,i,"hour")||f(a,h,"minute")||f(a,g,"second")||a+" ms"}function f(a,b,c){return b>a?void 0:1.5*b>a?Math.floor(a/b)+" "+c:Math.ceil(a/b)+" "+c+"s"}var g=1e3,h=60*g,i=60*h,j=24*i,k=365.25*j;a.exports=function(a,b){return b=b||{},"string"==typeof a?c(a):b["long"]?e(a):d(a)}},function(a,b){"function"==typeof Object.create?a.exports=function(a,b){a.super_=b,a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})}:a.exports=function(a,b){a.super_=b;var c=function(){};c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a}},function(a,b,c){"use strict";function d(){f.call(this)}var e=c(47),f=c(49);e(d,f),d.prototype.removeAllListeners=function(a){a?delete this._listeners[a]:this._listeners={}},d.prototype.once=function(a,b){function c(){d.removeListener(a,c),e||(e=!0,b.apply(this,arguments))}var d=this,e=!1;this.on(a,c)},d.prototype.emit=function(a){var b=this._listeners[a];if(b)for(var c=Array.prototype.slice.call(arguments,1),d=0;d<b.length;d++)b[d].apply(this,c)},d.prototype.on=d.prototype.addListener=f.prototype.addEventListener,d.prototype.removeListener=f.prototype.removeEventListener,a.exports.EventEmitter=d},function(a,b){"use strict";function c(){this._listeners={}}c.prototype.addEventListener=function(a,b){a in this._listeners||(this._listeners[a]=[]);var c=this._listeners[a];-1===c.indexOf(b)&&(c=c.concat([b])),this._listeners[a]=c},c.prototype.removeEventListener=function(a,b){var c=this._listeners[a];if(c){var d=c.indexOf(b);return-1!==d?void(c.length>1?this._listeners[a]=c.slice(0,d).concat(c.slice(d+1)):delete this._listeners[a]):void 0}},c.prototype.dispatchEvent=function(a){var b=a.type,c=Array.prototype.slice.call(arguments,0);if(this["on"+b]&&this["on"+b].apply(this,c),b in this._listeners)for(var d=this._listeners[b],e=0;e<d.length;e++)d[e].apply(this,c)},a.exports=c},function(a,b){(function(b){a.exports=b.WebSocket||b.MozWebSocket}).call(b,function(){return this}())},function(a,b,c){(function(b){"use strict";function d(a){if(!i.enabled&&!h.enabled)throw new Error("Transport created when disabled");f.call(this,a,"/xhr_streaming",g,h)}var e=c(47),f=c(52),g=c(56),h=c(57),i=c(59),j=c(60);e(d,f),d.enabled=function(a){return a.nullOrigin?!1:j.isOpera()?!1:h.enabled},d.transportName="xhr-streaming",d.roundTrips=2,d.needBody=!!b.document,a.exports=d}).call(b,function(){return this}())},function(a,b,c){(function(b){"use strict";function d(a){return function(b,c,d){i("create ajax sender",b,c);var e={};"string"==typeof c&&(e.headers={"Content-type":"text/plain"});var f=g.addPath(b,"/xhr_send"),h=new a("POST",f,c,e);return h.once("finish",function(a){return i("finish",a),h=null,200!==a&&204!==a?d(new Error("http status "+a)):void d()}),function(){i("abort"),h.close(),h=null;var a=new Error("Aborted");a.code=1e3,d(a)}}}function e(a,b,c,e){h.call(this,a,b,d(e),c,e)}var f=c(47),g=c(39),h=c(53),i=function(){};"production"!==b.env.NODE_ENV&&(i=c(44)("sockjs-client:ajax-based")),f(e,h),a.exports=e}).call(b,c(35))},function(a,b,c){(function(b){"use strict";function d(a,b,c,d,e){var j=f.addPath(a,b);i(j);var k=this;g.call(this,a,c),this.poll=new h(d,j,e),this.poll.on("message",function(a){i("poll message",a),k.emit("message",a)}),this.poll.once("close",function(a,b){i("poll close",a,b),k.poll=null,k.emit("close",a,b),k.close()})}var e=c(47),f=c(39),g=c(54),h=c(55),i=function(){};"production"!==b.env.NODE_ENV&&(i=c(44)("sockjs-client:sender-receiver")),e(d,g),d.prototype.close=function(){i("close"),this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null),this.stop()},a.exports=d}).call(b,c(35))},function(a,b,c){(function(b){"use strict";function d(a,b){g(a),f.call(this),this.sendBuffer=[],this.sender=b,this.url=a}var e=c(47),f=c(48).EventEmitter,g=function(){};"production"!==b.env.NODE_ENV&&(g=c(44)("sockjs-client:buffered-sender")),e(d,f),d.prototype.send=function(a){g("send",a),this.sendBuffer.push(a),this.sendStop||this.sendSchedule()},d.prototype.sendScheduleWait=function(){g("sendScheduleWait");var a,b=this;this.sendStop=function(){g("sendStop"),b.sendStop=null,clearTimeout(a)},a=setTimeout(function(){g("timeout"),b.sendStop=null,b.sendSchedule()},25)},d.prototype.sendSchedule=function(){g("sendSchedule",this.sendBuffer.length);var a=this;if(this.sendBuffer.length>0){var b="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,b,function(b){a.sendStop=null,b?(g("error",b),a.emit("close",b.code||1006,"Sending error: "+b),a._cleanup()):a.sendScheduleWait()}),this.sendBuffer=[]}},d.prototype._cleanup=function(){g("_cleanup"),this.removeAllListeners()},d.prototype.stop=function(){g("stop"),this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)},a.exports=d}).call(b,c(35))},function(a,b,c){(function(b){"use strict";function d(a,b,c){g(b),f.call(this),this.Receiver=a,this.receiveUrl=b,this.AjaxObject=c,this._scheduleReceiver()}var e=c(47),f=c(48).EventEmitter,g=function(){};"production"!==b.env.NODE_ENV&&(g=c(44)("sockjs-client:polling")),e(d,f),d.prototype._scheduleReceiver=function(){g("_scheduleReceiver");var a=this,b=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);b.on("message",function(b){g("message",b),a.emit("message",b)}),b.once("close",function(c,d){g("close",c,d,a.pollIsClosing),a.poll=b=null,a.pollIsClosing||("network"===d?a._scheduleReceiver():(a.emit("close",c||1006,d),a.removeAllListeners()))})},d.prototype.abort=function(){g("abort"),this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()},a.exports=d}).call(b,c(35))},function(a,b,c){(function(b){"use strict";function d(a,b){g(a),f.call(this);var c=this;this.bufferPosition=0,this.xo=new b("POST",a,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",function(a,b){g("finish",a,b),c._chunkHandler(a,b),c.xo=null;var d=200===a?"network":"permanent";g("close",d),c.emit("close",null,d),c._cleanup()})}var e=c(47),f=c(48).EventEmitter,g=function(){};"production"!==b.env.NODE_ENV&&(g=c(44)("sockjs-client:receiver:xhr")),e(d,f),d.prototype._chunkHandler=function(a,b){if(g("_chunkHandler",a),200===a&&b)for(var c=-1;;this.bufferPosition+=c+1){var d=b.slice(this.bufferPosition);if(c=d.indexOf("\n"),-1===c)break;var e=d.slice(0,c);e&&(g("message",e),this.emit("message",e))}},d.prototype._cleanup=function(){g("_cleanup"),this.removeAllListeners()},d.prototype.abort=function(){g("abort"),this.xo&&(this.xo.close(),g("close"),this.emit("close",null,"user"),this.xo=null),this._cleanup()},a.exports=d}).call(b,c(35))},function(a,b,c){"use strict";function d(a,b,c,d){f.call(this,a,b,c,d)}var e=c(47),f=c(58);e(d,f),d.enabled=f.enabled&&f.supportsCORS,a.exports=d},function(a,b,c){(function(b,d){"use strict";function e(a,b,c,d){k(a,b);var e=this;f.call(this),setTimeout(function(){e._start(a,b,c,d)},0)}var f=c(48).EventEmitter,g=c(47),h=c(36),i=c(39),j=b.XMLHttpRequest,k=function(){};"production"!==d.env.NODE_ENV&&(k=c(44)("sockjs-client:browser:xhr")),g(e,f),e.prototype._start=function(a,b,c,d){var f=this;try{this.xhr=new j}catch(g){}if(!this.xhr)return k("no xhr"),this.emit("finish",0,"no xhr support"),void this._cleanup();b=i.addQuery(b,"t="+ +new Date),this.unloadRef=h.unloadAdd(function(){k("unload cleanup"),f._cleanup(!0)});try{this.xhr.open(a,b,!0),this.timeout&&"timeout"in this.xhr&&(this.xhr.timeout=this.timeout,this.xhr.ontimeout=function(){k("xhr timeout"),f.emit("finish",0,""),f._cleanup(!1)})}catch(l){return k("exception",l),this.emit("finish",0,""),void this._cleanup(!1)}if(d&&d.noCredentials||!e.supportsCORS||(k("withCredentials"),this.xhr.withCredentials="true"),d&&d.headers)for(var m in d.headers)this.xhr.setRequestHeader(m,d.headers[m]);this.xhr.onreadystatechange=function(){if(f.xhr){var a,b,c=f.xhr;switch(k("readyState",c.readyState),c.readyState){case 3:try{b=c.status,a=c.responseText}catch(d){}k("status",b),1223===b&&(b=204),200===b&&a&&a.length>0&&(k("chunk"),f.emit("chunk",b,a));break;case 4:b=c.status,k("status",b),1223===b&&(b=204),12005!==b&&12029!==b||(b=0),k("finish",b,c.responseText),f.emit("finish",b,c.responseText),f._cleanup(!1)}}};try{f.xhr.send(c)}catch(l){f.emit("finish",0,""),f._cleanup(!1)}},e.prototype._cleanup=function(a){if(k("cleanup"),this.xhr){if(this.removeAllListeners(),h.unloadDel(this.unloadRef),this.xhr.onreadystatechange=function(){},this.xhr.ontimeout&&(this.xhr.ontimeout=null),a)try{this.xhr.abort()}catch(b){}this.unloadRef=this.xhr=null}},e.prototype.close=function(){k("close"),this._cleanup(!0)},e.enabled=!!j;var l=["Active"].concat("Object").join("X");!e.enabled&&l in b&&(k("overriding xmlhttprequest"),j=function(){try{return new b[l]("Microsoft.XMLHTTP")}catch(a){return null}},e.enabled=!!new j);var m=!1;try{m="withCredentials"in new j}catch(n){}e.supportsCORS=m,a.exports=e}).call(b,function(){return this}(),c(35))},function(a,b,c){"use strict";function d(a,b,c){f.call(this,a,b,c,{noCredentials:!0})}var e=c(47),f=c(58);e(d,f),d.enabled=f.enabled,a.exports=d},function(a,b){(function(b){"use strict";a.exports={isOpera:function(){return b.navigator&&/opera/i.test(b.navigator.userAgent)},isKonqueror:function(){return b.navigator&&/konqueror/i.test(b.navigator.userAgent)},hasDomain:function(){if(!b.document)return!0;try{return!!b.document.domain}catch(a){return!1}}}}).call(b,function(){return this}())},function(a,b,c){"use strict";function d(a){if(!h.enabled)throw new Error("Transport created when disabled");f.call(this,a,"/xhr_streaming",g,h)}var e=c(47),f=c(52),g=c(56),h=c(62);e(d,f),d.enabled=function(a){return a.cookie_needed||a.nullOrigin?!1:h.enabled&&a.sameScheme},d.transportName="xdr-streaming",d.roundTrips=2,a.exports=d},function(a,b,c){(function(b,d){"use strict";function e(a,b,c){k(a,b);var d=this;f.call(this),setTimeout(function(){d._start(a,b,c)},0)}var f=c(48).EventEmitter,g=c(47),h=c(36),i=c(60),j=c(39),k=function(){};"production"!==b.env.NODE_ENV&&(k=c(44)("sockjs-client:sender:xdr")),g(e,f),e.prototype._start=function(a,b,c){k("_start");var e=this,f=new d.XDomainRequest;b=j.addQuery(b,"t="+ +new Date),f.onerror=function(){k("onerror"),e._error()},f.ontimeout=function(){k("ontimeout"),e._error()},f.onprogress=function(){k("progress",f.responseText),e.emit("chunk",200,f.responseText)},f.onload=function(){k("load"),e.emit("finish",200,f.responseText),e._cleanup(!1)},this.xdr=f,this.unloadRef=h.unloadAdd(function(){e._cleanup(!0)});try{this.xdr.open(a,b),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(c)}catch(g){this._error()}},e.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)},e.prototype._cleanup=function(a){if(k("cleanup",a),this.xdr){if(this.removeAllListeners(),h.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,a)try{this.xdr.abort()}catch(b){}this.unloadRef=this.xdr=null}},e.prototype.close=function(){k("close"),this._cleanup(!0)},e.enabled=!(!d.XDomainRequest||!i.hasDomain()),a.exports=e}).call(b,c(35),function(){return this}())},function(a,b,c){"use strict";function d(a){if(!d.enabled())throw new Error("Transport created when disabled");f.call(this,a,"/eventsource",g,h)}var e=c(47),f=c(52),g=c(64),h=c(57),i=c(65);e(d,f),d.enabled=function(){return!!i},d.transportName="eventsource",d.roundTrips=2,a.exports=d},function(a,b,c){(function(b){"use strict";function d(a){h(a),f.call(this);var b=this,c=this.es=new g(a);c.onmessage=function(a){h("message",a.data),b.emit("message",decodeURI(a.data))},c.onerror=function(a){h("error",c.readyState,a);var d=2!==c.readyState?"network":"permanent";b._cleanup(),b._close(d)}}var e=c(47),f=c(48).EventEmitter,g=c(65),h=function(){};"production"!==b.env.NODE_ENV&&(h=c(44)("sockjs-client:receiver:eventsource")),e(d,f),d.prototype.abort=function(){h("abort"),this._cleanup(),this._close("user")},d.prototype._cleanup=function(){h("cleanup");var a=this.es;a&&(a.onmessage=a.onerror=null,a.close(),this.es=null)},d.prototype._close=function(a){h("close",a);var b=this;setTimeout(function(){b.emit("close",null,a),b.removeAllListeners()},200)},a.exports=d}).call(b,c(35))},function(a,b){(function(b){a.exports=b.EventSource}).call(b,function(){return this}())},function(a,b,c){(function(b){"use strict";var d=c(47),e=c(67),f=c(72);a.exports=function(a){function c(b,c){e.call(this,a.transportName,b,c)}return d(c,e),c.enabled=function(c,d){if(!b.document)return!1;var g=f.extend({},d);return g.sameOrigin=!0,a.enabled(g)&&e.enabled()},c.transportName="iframe-"+a.transportName,c.needBody=!0,c.roundTrips=e.roundTrips+a.roundTrips-1,c.facadeTransport=a,c}}).call(b,function(){return this}())},function(a,b,c){(function(b){"use strict";function d(a,b,c){if(!d.enabled())throw new Error("Transport created when disabled");g.call(this);var e=this;this.origin=i.getOrigin(c),this.baseUrl=c,this.transUrl=b,this.transport=a,this.windowId=l.string(8);var f=i.addPath(c,"/iframe.html")+"#"+this.windowId;m(a,b,f),this.iframeObj=j.createIframe(f,function(a){m("err callback"),e.emit("close",1006,"Unable to load an iframe ("+a+")"),e.close()}),this.onmessageCallback=this._message.bind(this),k.attachEvent("message",this.onmessageCallback)}var e=c(47),f=c(68),g=c(48).EventEmitter,h=c(70),i=c(39),j=c(71),k=c(36),l=c(37),m=function(){};"production"!==b.env.NODE_ENV&&(m=c(44)("sockjs-client:transport:iframe")),e(d,g),d.prototype.close=function(){if(m("close"),this.removeAllListeners(),this.iframeObj){k.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch(a){}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}},d.prototype._message=function(a){if(m("message",a.data),!i.isOriginEqual(a.origin,this.origin))return void m("not same origin",a.origin,this.origin);var b;try{b=f.parse(a.data)}catch(c){return void m("bad json",a.data)}if(b.windowId!==this.windowId)return void m("mismatched window id",b.windowId,this.windowId);switch(b.type){case"s":this.iframeObj.loaded(),this.postMessage("s",f.stringify([h,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",b.data);break;case"c":var d;try{d=f.parse(b.data)}catch(c){return void m("bad json",b.data)}this.emit("close",d[0],d[1]),this.close()}},d.prototype.postMessage=function(a,b){m("postMessage",a,b),this.iframeObj.post(f.stringify({windowId:this.windowId,type:a,data:b||""}),this.origin)},d.prototype.send=function(a){m("send",a),this.postMessage("m",a)},d.enabled=function(){return j.iframeEnabled},d.transportName="iframe",d.roundTrips=2,a.exports=d}).call(b,c(35))},function(a,b,c){var d;(function(a,e){(function(){function f(a,b){function c(a){if(c[a]!==q)return c[a];var f;if("bug-string-char-index"==a)f="a"!="a"[0];else if("json"==a)f=c("json-stringify")&&c("json-parse");else{var g,h='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==a){var j=b.stringify,k="function"==typeof j&&t;if(k){(g=function(){return 1}).toJSON=g;try{k="0"===j(0)&&"0"===j(new d)&&'""'==j(new e)&&j(s)===q&&j(q)===q&&j()===q&&"1"===j(g)&&"[1]"==j([g])&&"[null]"==j([q])&&"null"==j(null)&&"[null,null,null]"==j([q,s,null])&&j({a:[g,!0,!1,null,"\x00\b\n\f\r	"]})==h&&"1"===j(null,g)&&"[\n 1,\n 2\n]"==j([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==j(new i(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==j(new i(864e13))&&'"-000001-01-01T00:00:00.000Z"'==j(new i(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==j(new i(-1))}catch(l){k=!1}}f=k}if("json-parse"==a){var m=b.parse;if("function"==typeof m)try{if(0===m("0")&&!m(!1)){g=m(h);var n=5==g.a.length&&1===g.a[0];if(n){try{n=!m('"	"')}catch(l){}if(n)try{n=1!==m("01")}catch(l){}if(n)try{n=1!==m("1.")}catch(l){}}}}catch(l){n=!1}f=n}}return c[a]=!!f}a||(a=j.Object()),b||(b=j.Object());var d=a.Number||j.Number,e=a.String||j.String,g=a.Object||j.Object,i=a.Date||j.Date,k=a.SyntaxError||j.SyntaxError,l=a.TypeError||j.TypeError,m=a.Math||j.Math,n=a.JSON||j.JSON;"object"==typeof n&&n&&(b.stringify=n.stringify,b.parse=n.parse);var o,p,q,r=g.prototype,s=r.toString,t=new i(-0xc782b5b800cec);try{t=-109252==t.getUTCFullYear()&&0===t.getUTCMonth()&&1===t.getUTCDate()&&10==t.getUTCHours()&&37==t.getUTCMinutes()&&6==t.getUTCSeconds()&&708==t.getUTCMilliseconds()}catch(u){}if(!c("json")){var v="[object Function]",w="[object Date]",x="[object Number]",y="[object String]",z="[object Array]",A="[object Boolean]",B=c("bug-string-char-index");if(!t)var C=m.floor,D=[0,31,59,90,120,151,181,212,243,273,304,334],E=function(a,b){return D[b]+365*(a-1970)+C((a-1969+(b=+(b>1)))/4)-C((a-1901+b)/100)+C((a-1601+b)/400)};if((o=r.hasOwnProperty)||(o=function(a){var b,c={};return(c.__proto__=null,c.__proto__={toString:1},c).toString!=s?o=function(a){var b=this.__proto__,c=a in(this.__proto__=null,this);return this.__proto__=b,c}:(b=c.constructor,o=function(a){var c=(this.constructor||b).prototype;return a in this&&!(a in c&&this[a]===c[a])}),c=null,o.call(this,a)}),p=function(a,b){var c,d,e,f=0;(c=function(){this.valueOf=0}).prototype.valueOf=0,d=new c;for(e in d)o.call(d,e)&&f++;return c=d=null,f?p=2==f?function(a,b){var c,d={},e=s.call(a)==v;for(c in a)e&&"prototype"==c||o.call(d,c)||!(d[c]=1)||!o.call(a,c)||b(c)}:function(a,b){var c,d,e=s.call(a)==v;for(c in a)e&&"prototype"==c||!o.call(a,c)||(d="constructor"===c)||b(c);(d||o.call(a,c="constructor"))&&b(c)}:(d=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],p=function(a,b){var c,e,f=s.call(a)==v,g=!f&&"function"!=typeof a.constructor&&h[typeof a.hasOwnProperty]&&a.hasOwnProperty||o;for(c in a)f&&"prototype"==c||!g.call(a,c)||b(c);for(e=d.length;c=d[--e];g.call(a,c)&&b(c));}),p(a,b)},!c("json-stringify")){var F={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},G="000000",H=function(a,b){return(G+(b||0)).slice(-a)},I="\\u00",J=function(a){for(var b='"',c=0,d=a.length,e=!B||d>10,f=e&&(B?a.split(""):a);d>c;c++){var g=a.charCodeAt(c);switch(g){case 8:case 9:case 10:case 12:case 13:case 34:case 92:b+=F[g];break;default:if(32>g){b+=I+H(2,g.toString(16));break}b+=e?f[c]:a.charAt(c)}}return b+'"'},K=function(a,b,c,d,e,f,g){var h,i,j,k,m,n,r,t,u,v,B,D,F,G,I,L;try{h=b[a]}catch(M){}if("object"==typeof h&&h)if(i=s.call(h),i!=w||o.call(h,"toJSON"))"function"==typeof h.toJSON&&(i!=x&&i!=y&&i!=z||o.call(h,"toJSON"))&&(h=h.toJSON(a));else if(h>-1/0&&1/0>h){if(E){for(m=C(h/864e5),j=C(m/365.2425)+1970-1;E(j+1,0)<=m;j++);for(k=C((m-E(j,0))/30.42);E(j,k+1)<=m;k++);m=1+m-E(j,k),n=(h%864e5+864e5)%864e5,r=C(n/36e5)%24,t=C(n/6e4)%60,u=C(n/1e3)%60,v=n%1e3}else j=h.getUTCFullYear(),k=h.getUTCMonth(),m=h.getUTCDate(),r=h.getUTCHours(),t=h.getUTCMinutes(),u=h.getUTCSeconds(),v=h.getUTCMilliseconds();h=(0>=j||j>=1e4?(0>j?"-":"+")+H(6,0>j?-j:j):H(4,j))+"-"+H(2,k+1)+"-"+H(2,m)+"T"+H(2,r)+":"+H(2,t)+":"+H(2,u)+"."+H(3,v)+"Z"}else h=null;if(c&&(h=c.call(b,a,h)),null===h)return"null";if(i=s.call(h),i==A)return""+h;if(i==x)return h>-1/0&&1/0>h?""+h:"null";if(i==y)return J(""+h);if("object"==typeof h){for(G=g.length;G--;)if(g[G]===h)throw l();if(g.push(h),B=[],I=f,f+=e,i==z){for(F=0,G=h.length;G>F;F++)D=K(F,h,c,d,e,f,g),B.push(D===q?"null":D);L=B.length?e?"[\n"+f+B.join(",\n"+f)+"\n"+I+"]":"["+B.join(",")+"]":"[]"}else p(d||h,function(a){var b=K(a,h,c,d,e,f,g);b!==q&&B.push(J(a)+":"+(e?" ":"")+b)}),L=B.length?e?"{\n"+f+B.join(",\n"+f)+"\n"+I+"}":"{"+B.join(",")+"}":"{}";return g.pop(),L}};b.stringify=function(a,b,c){var d,e,f,g;if(h[typeof b]&&b)if((g=s.call(b))==v)e=b;else if(g==z){f={};for(var i,j=0,k=b.length;k>j;i=b[j++],g=s.call(i),(g==y||g==x)&&(f[i]=1));}if(c)if((g=s.call(c))==x){if((c-=c%1)>0)for(d="",c>10&&(c=10);d.length<c;d+=" ");}else g==y&&(d=c.length<=10?c:c.slice(0,10));return K("",(i={},i[""]=a,i),e,f,d,"",[])}}if(!c("json-parse")){var L,M,N=e.fromCharCode,O={92:"\\",34:'"',47:"/",98:"\b",116:"	",110:"\n",102:"\f",114:"\r"},P=function(){throw L=M=null,k()},Q=function(){for(var a,b,c,d,e,f=M,g=f.length;g>L;)switch(e=f.charCodeAt(L)){case 9:case 10:case 13:case 32:L++;break;case 123:case 125:case 91:case 93:case 58:case 44:return a=B?f.charAt(L):f[L],L++,a;case 34:for(a="@",L++;g>L;)if(e=f.charCodeAt(L),32>e)P();else if(92==e)switch(e=f.charCodeAt(++L)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:a+=O[e],L++;break;case 117:for(b=++L,c=L+4;c>L;L++)e=f.charCodeAt(L),e>=48&&57>=e||e>=97&&102>=e||e>=65&&70>=e||P();a+=N("0x"+f.slice(b,L));break;default:P()}else{if(34==e)break;for(e=f.charCodeAt(L),b=L;e>=32&&92!=e&&34!=e;)e=f.charCodeAt(++L);a+=f.slice(b,L)}if(34==f.charCodeAt(L))return L++,a;P();default:if(b=L,45==e&&(d=!0,e=f.charCodeAt(++L)),e>=48&&57>=e){for(48==e&&(e=f.charCodeAt(L+1),e>=48&&57>=e)&&P(),d=!1;g>L&&(e=f.charCodeAt(L),e>=48&&57>=e);L++);if(46==f.charCodeAt(L)){for(c=++L;g>c&&(e=f.charCodeAt(c),e>=48&&57>=e);c++);c==L&&P(),L=c}if(e=f.charCodeAt(L),101==e||69==e){for(e=f.charCodeAt(++L),43!=e&&45!=e||L++,c=L;g>c&&(e=f.charCodeAt(c),e>=48&&57>=e);c++);c==L&&P(),L=c}return+f.slice(b,L)}if(d&&P(),"true"==f.slice(L,L+4))return L+=4,!0;if("false"==f.slice(L,L+5))return L+=5,!1;if("null"==f.slice(L,L+4))return L+=4,null;P()}return"$"},R=function(a){var b,c;if("$"==a&&P(),"string"==typeof a){if("@"==(B?a.charAt(0):a[0]))return a.slice(1);if("["==a){for(b=[];a=Q(),"]"!=a;c||(c=!0))c&&(","==a?(a=Q(),"]"==a&&P()):P()),","==a&&P(),b.push(R(a));return b}if("{"==a){for(b={};a=Q(),"}"!=a;c||(c=!0))c&&(","==a?(a=Q(),"}"==a&&P()):P()),","!=a&&"string"==typeof a&&"@"==(B?a.charAt(0):a[0])&&":"==Q()||P(),b[a.slice(1)]=R(Q());return b}P()}return a},S=function(a,b,c){var d=T(a,b,c);d===q?delete a[b]:a[b]=d},T=function(a,b,c){var d,e=a[b];if("object"==typeof e&&e)if(s.call(e)==z)for(d=e.length;d--;)S(e,d,c);else p(e,function(a){S(e,a,c)});return c.call(a,b,e)};b.parse=function(a,b){var c,d;return L=0,M=""+a,c=R(Q()),"$"!=Q()&&P(),L=M=null,b&&s.call(b)==v?T((d={},d[""]=c,d),"",b):c}}}return b.runInContext=f,b}var g=c(69),h={"function":!0,object:!0},i=h[typeof b]&&b&&!b.nodeType&&b,j=h[typeof window]&&window||this,k=i&&h[typeof a]&&a&&!a.nodeType&&"object"==typeof e&&e;if(!k||k.global!==k&&k.window!==k&&k.self!==k||(j=k),i&&!g)f(j,i);else{var l=j.JSON,m=j.JSON3,n=!1,o=f(j,j.JSON3={noConflict:function(){return n||(n=!0,j.JSON=l,j.JSON3=m,l=m=null),o}});j.JSON={parse:o.parse,stringify:o.stringify}}g&&(d=function(){return o}.call(b,c,b,a),!(void 0!==d&&(a.exports=d)))}).call(this)}).call(b,c(3)(a),function(){return this}())},function(a,b){(function(b){a.exports=b}).call(b,{})},function(a,b){a.exports="1.0.3"},function(a,b,c){(function(b,d){"use strict";var e=c(36),f=c(68),g=c(60),h=function(){};"production"!==b.env.NODE_ENV&&(h=c(44)("sockjs-client:utils:iframe")),a.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){a.exports.WPrefix in d||(d[a.exports.WPrefix]={})},postMessage:function(b,c){d.parent!==d?d.parent.postMessage(f.stringify({windowId:a.exports.currentWindowId,type:b,data:c||""}),"*"):h("Cannot postMessage, no parent window.",b,c)},createIframe:function(a,b){var c,f,g=d.document.createElement("iframe"),i=function(){h("unattach"),clearTimeout(c);try{g.onload=null}catch(a){}g.onerror=null},j=function(){h("cleanup"),g&&(i(),setTimeout(function(){g&&g.parentNode.removeChild(g),g=null},0),e.unloadDel(f))},k=function(a){h("onerror",a),g&&(j(),b(a))},l=function(a,b){h("post",a,b);try{setTimeout(function(){g&&g.contentWindow&&g.contentWindow.postMessage(a,b)},0)}catch(c){}};return g.src=a,g.style.display="none",g.style.position="absolute",g.onerror=function(){k("onerror")},g.onload=function(){h("onload"),clearTimeout(c),c=setTimeout(function(){k("onload timeout")},2e3)},d.document.body.appendChild(g),c=setTimeout(function(){k("timeout")},15e3),f=e.unloadAdd(j),{post:l,cleanup:j,loaded:i}},createHtmlfile:function(b,c){var f,g,i,j=["Active"].concat("Object").join("X"),k=new d[j]("htmlfile"),l=function(){clearTimeout(f),i.onerror=null},m=function(){k&&(l(),e.unloadDel(g),i.parentNode.removeChild(i),i=k=null,CollectGarbage())},n=function(a){h("onerror",a),k&&(m(),c(a))},o=function(a,b){try{setTimeout(function(){i&&i.contentWindow&&i.contentWindow.postMessage(a,b)},0)}catch(c){}};k.open(),k.write('<html><script>document.domain="'+d.document.domain+'";</script></html>'),k.close(),k.parentWindow[a.exports.WPrefix]=d[a.exports.WPrefix];var p=k.createElement("div");return k.body.appendChild(p),i=k.createElement("iframe"),p.appendChild(i),i.src=b,i.onerror=function(){n("onerror")},f=setTimeout(function(){n("timeout")},15e3),g=e.unloadAdd(m),{post:o,cleanup:m,loaded:l}}},a.exports.iframeEnabled=!1,d.document&&(a.exports.iframeEnabled=("function"==typeof d.postMessage||"object"==typeof d.postMessage)&&!g.isKonqueror())}).call(b,c(35),function(){return this}())},function(a,b){"use strict";a.exports={isObject:function(a){var b=typeof a;return"function"===b||"object"===b&&!!a},extend:function(a){if(!this.isObject(a))return a;for(var b,c,d=1,e=arguments.length;e>d;d++){b=arguments[d];for(c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])}return a}}},function(a,b,c){"use strict";function d(a){if(!f.enabled)throw new Error("Transport created when disabled");h.call(this,a,"/htmlfile",f,g)}var e=c(47),f=c(74),g=c(59),h=c(52);e(d,h),d.enabled=function(a){return f.enabled&&a.sameOrigin},d.transportName="htmlfile",d.roundTrips=2,a.exports=d},function(a,b,c){(function(b,d){"use strict";function e(a){k(a),i.call(this);var b=this;g.polluteGlobalNamespace(),this.id="a"+j.string(6),a=h.addQuery(a,"c="+decodeURIComponent(g.WPrefix+"."+this.id)),k("using htmlfile",e.htmlfileEnabled);var c=e.htmlfileEnabled?g.createHtmlfile:g.createIframe;d[g.WPrefix][this.id]={start:function(){k("start"),b.iframeObj.loaded()},message:function(a){k("message",a),b.emit("message",a)},stop:function(){k("stop"),b._cleanup(),b._close("network")}},this.iframeObj=c(a,function(){k("callback"),b._cleanup(),b._close("permanent")})}var f=c(47),g=c(71),h=c(39),i=c(48).EventEmitter,j=c(37),k=function(){};"production"!==b.env.NODE_ENV&&(k=c(44)("sockjs-client:receiver:htmlfile")),f(e,i),e.prototype.abort=function(){k("abort"),this._cleanup(),this._close("user")},e.prototype._cleanup=function(){k("_cleanup"),this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete d[g.WPrefix][this.id]},e.prototype._close=function(a){k("_close",a),this.emit("close",null,a),this.removeAllListeners()},e.htmlfileEnabled=!1;var l=["Active"].concat("Object").join("X");if(l in d)try{e.htmlfileEnabled=!!new d[l]("htmlfile")}catch(m){}e.enabled=e.htmlfileEnabled||g.iframeEnabled,a.exports=e}).call(b,c(35),function(){return this}())},function(a,b,c){"use strict";function d(a){if(!i.enabled&&!h.enabled)throw new Error("Transport created when disabled");f.call(this,a,"/xhr",g,h)}var e=c(47),f=c(52),g=c(56),h=c(57),i=c(59);e(d,f),d.enabled=function(a){return a.nullOrigin?!1:i.enabled&&a.sameOrigin?!0:h.enabled},d.transportName="xhr-polling",d.roundTrips=2,a.exports=d},function(a,b,c){"use strict";function d(a){if(!i.enabled)throw new Error("Transport created when disabled");f.call(this,a,"/xhr",h,i)}var e=c(47),f=c(52),g=c(61),h=c(56),i=c(62);e(d,f),d.enabled=g.enabled,d.transportName="xdr-polling",d.roundTrips=2,a.exports=d},function(a,b,c){(function(b){"use strict";function d(a){if(!d.enabled())throw new Error("Transport created when disabled");f.call(this,a,"/jsonp",h,g)}var e=c(47),f=c(53),g=c(78),h=c(79);e(d,f),d.enabled=function(){return!!b.document},d.transportName="jsonp-polling",d.roundTrips=1,d.needBody=!0,a.exports=d}).call(b,function(){return this}())},function(a,b,c){(function(b,d){"use strict";function e(a){l(a);var b=this;k.call(this),f.polluteGlobalNamespace(),this.id="a"+g.string(6);var c=i.addQuery(a,"c="+encodeURIComponent(f.WPrefix+"."+this.id));d[f.WPrefix][this.id]=this._callback.bind(this),this._createScript(c),this.timeoutId=setTimeout(function(){l("timeout"),b._abort(new Error("JSONP script loaded abnormally (timeout)"))},e.timeout)}var f=c(71),g=c(37),h=c(60),i=c(39),j=c(47),k=c(48).EventEmitter,l=function(){};"production"!==b.env.NODE_ENV&&(l=c(44)("sockjs-client:receiver:jsonp")),j(e,k),e.prototype.abort=function(){if(l("abort"),d[f.WPrefix][this.id]){var a=new Error("JSONP user aborted read");a.code=1e3,this._abort(a)}},e.timeout=35e3,e.scriptErrorTimeout=1e3,e.prototype._callback=function(a){l("_callback",a),this._cleanup(),this.aborting||(a&&(l("message",a),this.emit("message",a)),this.emit("close",null,"network"),this.removeAllListeners())},e.prototype._abort=function(a){l("_abort",a),this._cleanup(),this.aborting=!0,this.emit("close",a.code,a.message),this.removeAllListeners()},e.prototype._cleanup=function(){if(l("_cleanup"),clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script){var a=this.script;a.parentNode.removeChild(a),a.onreadystatechange=a.onerror=a.onload=a.onclick=null,this.script=null}delete d[f.WPrefix][this.id]},e.prototype._scriptError=function(){l("_scriptError");var a=this;this.errorTimer||(this.errorTimer=setTimeout(function(){a.loadedOkay||a._abort(new Error("JSONP script loaded abnormally (onerror)"))},e.scriptErrorTimeout))},e.prototype._createScript=function(a){l("_createScript",a);var b,c=this,e=this.script=d.document.createElement("script");if(e.id="a"+g.string(8),e.src=a,e.type="text/javascript",e.charset="UTF-8",e.onerror=this._scriptError.bind(this),e.onload=function(){l("onload"),c._abort(new Error("JSONP script loaded abnormally (onload)"))},e.onreadystatechange=function(){if(l("onreadystatechange",e.readyState),/loaded|closed/.test(e.readyState)){if(e&&e.htmlFor&&e.onclick){c.loadedOkay=!0;try{e.onclick()}catch(a){}}e&&c._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},"undefined"==typeof e.async&&d.document.attachEvent)if(h.isOpera())b=this.script2=d.document.createElement("script"),b.text="try{var a = document.getElementById('"+e.id+"'); if(a)a.onerror();}catch(x){};",e.async=b.async=!1;else{try{e.htmlFor=e.id,
e.event="onclick"}catch(f){}e.async=!0}"undefined"!=typeof e.async&&(e.async=!0);var i=d.document.getElementsByTagName("head")[0];i.insertBefore(e,i.firstChild),b&&i.insertBefore(b,i.firstChild)},a.exports=e}).call(b,c(35),function(){return this}())},function(a,b,c){(function(b,d){"use strict";function e(a){i("createIframe",a);try{return d.document.createElement('<iframe name="'+a+'">')}catch(b){var c=d.document.createElement("iframe");return c.name=a,c}}function f(){i("createForm"),j=d.document.createElement("form"),j.style.display="none",j.style.position="absolute",j.method="POST",j.enctype="application/x-www-form-urlencoded",j.acceptCharset="UTF-8",k=d.document.createElement("textarea"),k.name="d",j.appendChild(k),d.document.body.appendChild(j)}var g=c(37),h=c(39),i=function(){};"production"!==b.env.NODE_ENV&&(i=c(44)("sockjs-client:sender:jsonp"));var j,k;a.exports=function(a,b,c){i(a,b),j||f();var d="a"+g.string(8);j.target=d,j.action=h.addQuery(h.addPath(a,"/jsonp_send"),"i="+d);var l=e(d);l.id=d,l.style.display="none",j.appendChild(l);try{k.value=b}catch(m){}j.submit();var n=function(a){i("completed",d,a),l.onerror&&(l.onreadystatechange=l.onerror=l.onload=null,setTimeout(function(){i("cleaning up",d),l.parentNode.removeChild(l),l=null},500),k.value="",c(a))};return l.onerror=function(){i("onerror",d),n()},l.onload=function(){i("onload",d),n()},l.onreadystatechange=function(a){i("onreadystatechange",d,l.readyState,a),"complete"===l.readyState&&n()},function(){i("aborted",d),n(new Error("Aborted"))}}}).call(b,c(35),function(){return this}())},function(a,b,c){(function(b,d){"use strict";function e(a,b,c){if(!(this instanceof e))return new e(a,b,c);if(arguments.length<1)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");s.call(this),this.readyState=e.CONNECTING,this.extensions="",this.protocol="",c=c||{},c.protocols_whitelist&&q.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=c.transports;var d=c.sessionId||8;if("function"==typeof d)this._generateSessionId=d;else{if("number"!=typeof d)throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._generateSessionId=function(){return j.string(d)}}this._server=c.server||j.numberString(1e3);var f=new g(a);if(!f.host||!f.protocol)throw new SyntaxError("The URL '"+a+"' is invalid");if(f.hash)throw new SyntaxError("The URL must not contain a fragment");if("http:"!==f.protocol&&"https:"!==f.protocol)throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+f.protocol+"' is not allowed.");var h="https:"===f.protocol;if("https"===t.protocol&&!h)throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");b?Array.isArray(b)||(b=[b]):b=[];var i=b.sort();i.forEach(function(a,b){if(!a)throw new SyntaxError("The protocols entry '"+a+"' is invalid.");if(b<i.length-1&&a===i[b+1])throw new SyntaxError("The protocols entry '"+a+"' is duplicated.")});var k=l.getOrigin(t.href);this._origin=k?k.toLowerCase():null,f.set("pathname",f.pathname.replace(/\/+$/,"")),this.url=f.href,x("using url",this.url),this._urlInfo={nullOrigin:!p.hasDomain(),sameOrigin:l.isOriginEqual(this.url,t.href),sameScheme:l.isSchemeEqual(this.url,t.href)},this._ir=new w(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}function f(a){return 1e3===a||a>=3e3&&4999>=a}c(81);var g=c(40),h=c(47),i=c(68),j=c(37),k=c(82),l=c(39),m=c(36),n=c(83),o=c(72),p=c(60),q=c(84),r=c(85),s=c(49),t=c(86),u=c(87),v=c(88),w=c(89),x=function(){};"production"!==b.env.NODE_ENV&&(d.dbg=c(44),x=d.dbg("sockjs-client:main"));var y;h(e,s),e.prototype.close=function(a,b){if(a&&!f(a))throw new Error("InvalidAccessError: Invalid code");if(b&&b.length>123)throw new SyntaxError("reason argument has an invalid length");if(this.readyState!==e.CLOSING&&this.readyState!==e.CLOSED){var c=!0;this._close(a||1e3,b||"Normal closure",c)}},e.prototype.send=function(a){if("string"!=typeof a&&(a=""+a),this.readyState===e.CONNECTING)throw new Error("InvalidStateError: The connection has not been established yet");this.readyState===e.OPEN&&this._transport.send(k.quote(a))},e.version=c(70),e.CONNECTING=0,e.OPEN=1,e.CLOSING=2,e.CLOSED=3,e.prototype._receiveInfo=function(a,b){if(x("_receiveInfo",b),this._ir=null,!a)return void this._close(1002,"Cannot connect to server");this._rto=this.countRTO(b),this._transUrl=a.base_url?a.base_url:this.url,a=o.extend(a,this._urlInfo),x("info",a);var c=y.filterToEnabled(this._transportsWhitelist,a);this._transports=c.main,x(this._transports.length+" enabled transports"),this._connect()},e.prototype._connect=function(){for(var a=this._transports.shift();a;a=this._transports.shift()){if(x("attempt",a.transportName),a.needBody&&(!d.document.body||"undefined"!=typeof d.document.readyState&&"complete"!==d.document.readyState&&"interactive"!==d.document.readyState))return x("waiting for body"),this._transports.unshift(a),void m.attachEvent("load",this._connect.bind(this));var b=this._rto*a.roundTrips||5e3;this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),b),x("using timeout",b);var c=l.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId());x("transport url",c);var e=new a(c,this._transUrl);return e.on("message",this._transportMessage.bind(this)),e.once("close",this._transportClose.bind(this)),e.transportName=a.transportName,void(this._transport=e)}this._close(2e3,"All transports failed",!1)},e.prototype._transportTimeout=function(){x("_transportTimeout"),this.readyState===e.CONNECTING&&this._transportClose(2007,"Transport timed out")},e.prototype._transportMessage=function(a){x("_transportMessage",a);var b,c=this,d=a.slice(0,1),e=a.slice(1);switch(d){case"o":return void this._open();case"h":return this.dispatchEvent(new r("heartbeat")),void x("heartbeat",this.transport)}if(e)try{b=i.parse(e)}catch(f){x("bad json",e)}if("undefined"==typeof b)return void x("empty payload",e);switch(d){case"a":Array.isArray(b)&&b.forEach(function(a){x("message",c.transport,a),c.dispatchEvent(new v(a))});break;case"m":x("message",this.transport,b),this.dispatchEvent(new v(b));break;case"c":Array.isArray(b)&&2===b.length&&this._close(b[0],b[1],!0)}},e.prototype._transportClose=function(a,b){return x("_transportClose",this.transport,a,b),this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),f(a)||2e3===a||this.readyState!==e.CONNECTING?void this._close(a,b):void this._connect()},e.prototype._open=function(){x("_open",this._transport.transportName,this.readyState),this.readyState===e.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=e.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new r("open")),x("connected",this.transport)):this._close(1006,"Server lost session")},e.prototype._close=function(a,b,c){x("_close",this.transport,a,b,c,this.readyState);var d=!1;if(this._ir&&(d=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===e.CLOSED)throw new Error("InvalidStateError: SockJS has already been closed");this.readyState=e.CLOSING,setTimeout(function(){this.readyState=e.CLOSED,d&&this.dispatchEvent(new r("error"));var f=new u("close");f.wasClean=c||!1,f.code=a||1e3,f.reason=b,this.dispatchEvent(f),this.onmessage=this.onclose=this.onerror=null,x("disconnected")}.bind(this),0)},e.prototype.countRTO=function(a){return a>100?4*a:300+a},a.exports=function(a){return y=n(a),c(94)(e,a),e}}).call(b,c(35),function(){return this}())},function(a,b){"use strict";function c(a){var b=+a;return b!==b?b=0:0!==b&&b!==1/0&&b!==-(1/0)&&(b=(b>0||-1)*Math.floor(Math.abs(b))),b}function d(a){return a>>>0}function e(){}var f,g=Array.prototype,h=Object.prototype,i=Function.prototype,j=String.prototype,k=g.slice,l=h.toString,m=function(a){return"[object Function]"===h.toString.call(a)},n=function(a){return"[object Array]"===l.call(a)},o=function(a){return"[object String]"===l.call(a)},p=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch(a){return!1}}();f=p?function(a,b,c,d){!d&&b in a||Object.defineProperty(a,b,{configurable:!0,enumerable:!1,writable:!0,value:c})}:function(a,b,c,d){!d&&b in a||(a[b]=c)};var q=function(a,b,c){for(var d in b)h.hasOwnProperty.call(b,d)&&f(a,d,b[d],c)},r=function(a){if(null==a)throw new TypeError("can't convert "+a+" to object");return Object(a)};q(i,{bind:function(a){var b=this;if(!m(b))throw new TypeError("Function.prototype.bind called on incompatible "+b);for(var c=k.call(arguments,1),d=function(){if(this instanceof i){var d=b.apply(this,c.concat(k.call(arguments)));return Object(d)===d?d:this}return b.apply(a,c.concat(k.call(arguments)))},f=Math.max(0,b.length-c.length),g=[],h=0;f>h;h++)g.push("$"+h);var i=Function("binder","return function ("+g.join(",")+"){ return binder.apply(this, arguments); }")(d);return b.prototype&&(e.prototype=b.prototype,i.prototype=new e,e.prototype=null),i}}),q(Array,{isArray:n});var s=Object("a"),t="a"!==s[0]||!(0 in s),u=function(a){var b=!0,c=!0;return a&&(a.call("foo",function(a,c,d){"object"!=typeof d&&(b=!1)}),a.call([1],function(){c="string"==typeof this},"x")),!!a&&b&&c};q(g,{forEach:function(a){var b=r(this),c=t&&o(this)?this.split(""):b,d=arguments[1],e=-1,f=c.length>>>0;if(!m(a))throw new TypeError;for(;++e<f;)e in c&&a.call(d,c[e],e,b)}},!u(g.forEach));var v=Array.prototype.indexOf&&-1!==[0,1].indexOf(1,2);q(g,{indexOf:function(a){var b=t&&o(this)?this.split(""):r(this),d=b.length>>>0;if(!d)return-1;var e=0;for(arguments.length>1&&(e=c(arguments[1])),e=e>=0?e:Math.max(0,d+e);d>e;e++)if(e in b&&b[e]===a)return e;return-1}},v);var w=j.split;2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||4!=="test".split(/(?:)/,-1).length||"".split(/.?/).length||".".split(/()()/).length>1?!function(){var a=void 0===/()??/.exec("")[1];j.split=function(b,c){var e=this;if(void 0===b&&0===c)return[];if("[object RegExp]"!==l.call(b))return w.call(this,b,c);var f,h,i,j,k=[],m=(b.ignoreCase?"i":"")+(b.multiline?"m":"")+(b.extended?"x":"")+(b.sticky?"y":""),n=0;for(b=new RegExp(b.source,m+"g"),e+="",a||(f=new RegExp("^"+b.source+"$(?!\\s)",m)),c=void 0===c?-1>>>0:d(c);(h=b.exec(e))&&(i=h.index+h[0].length,!(i>n&&(k.push(e.slice(n,h.index)),!a&&h.length>1&&h[0].replace(f,function(){for(var a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(h[a]=void 0)}),h.length>1&&h.index<e.length&&g.push.apply(k,h.slice(1)),j=h[0].length,n=i,k.length>=c)));)b.lastIndex===h.index&&b.lastIndex++;return n===e.length?!j&&b.test("")||k.push(""):k.push(e.slice(n)),k.length>c?k.slice(0,c):k}}():"0".split(void 0,0).length&&(j.split=function(a,b){return void 0===a&&0===b?[]:w.call(this,a,b)});var x="	\n\x0B\f\r \u2028\u2029\ufeff",y="",z="["+x+"]",A=new RegExp("^"+z+z+"*"),B=new RegExp(z+z+"*$"),C=j.trim&&(x.trim()||!y.trim());q(j,{trim:function(){if(void 0===this||null===this)throw new TypeError("can't convert "+this+" to object");return String(this).replace(A,"").replace(B,"")}},C);var D=j.substr,E="".substr&&"b"!=="0b".substr(-1);q(j,{substr:function(a,b){return D.call(this,0>a&&(a=this.length+a)<0?0:a,b)}},E)},function(a,b,c){"use strict";var d,e=c(68),f=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,g=function(a){var b,c={},d=[];for(b=0;65536>b;b++)d.push(String.fromCharCode(b));return a.lastIndex=0,d.join("").replace(a,function(a){return c[a]="\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4),""}),a.lastIndex=0,c};a.exports={quote:function(a){var b=e.stringify(a);return f.lastIndex=0,f.test(b)?(d||(d=g(f)),b.replace(f,function(a){return d[a]})):b}}},function(a,b,c){(function(b){"use strict";var d=function(){};"production"!==b.env.NODE_ENV&&(d=c(44)("sockjs-client:utils:transport")),a.exports=function(a){return{filterToEnabled:function(b,c){var e={main:[],facade:[]};return b?"string"==typeof b&&(b=[b]):b=[],a.forEach(function(a){return a?"websocket"===a.transportName&&c.websocket===!1?void d("disabled from server","websocket"):b.length&&-1===b.indexOf(a.transportName)?void d("not in whitelist",a.transportName):void(a.enabled(c)?(d("enabled",a.transportName),e.main.push(a),a.facadeTransport&&e.facade.push(a.facadeTransport)):d("disabled",a.transportName)):void 0}),e}}}}).call(b,c(35))},function(a,b){(function(b){"use strict";var c={};["log","debug","warn"].forEach(function(a){var d=b.console&&b.console[a]&&b.console[a].apply;c[a]=d?function(){return b.console[a].apply(b.console,arguments)}:"log"===a?function(){}:c.log}),a.exports=c}).call(b,function(){return this}())},function(a,b){"use strict";function c(a){this.type=a}c.prototype.initEvent=function(a,b,c){return this.type=a,this.bubbles=b,this.cancelable=c,this.timeStamp=+new Date,this},c.prototype.stopPropagation=function(){},c.prototype.preventDefault=function(){},c.CAPTURING_PHASE=1,c.AT_TARGET=2,c.BUBBLING_PHASE=3,a.exports=c},function(a,b){(function(b){"use strict";a.exports=b.location||{origin:"http://localhost:80",protocol:"http",host:"localhost",port:80,href:"http://localhost/",hash:""}}).call(b,function(){return this}())},function(a,b,c){"use strict";function d(){f.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}var e=c(47),f=c(85);e(d,f),a.exports=d},function(a,b,c){"use strict";function d(a){f.call(this),this.initEvent("message",!1,!1),this.data=a}var e=c(47),f=c(85);e(d,f),a.exports=d},function(a,b,c){(function(b){"use strict";function d(a,b){n(a);var c=this;e.call(this),setTimeout(function(){c.doXhr(a,b)},0)}var e=c(48).EventEmitter,f=c(47),g=c(39),h=c(62),i=c(57),j=c(59),k=c(90),l=c(91),m=c(93),n=function(){};"production"!==b.env.NODE_ENV&&(n=c(44)("sockjs-client:info-receiver")),f(d,e),d._getReceiver=function(a,b,c){return c.sameOrigin?new m(b,j):i.enabled?new m(b,i):h.enabled&&c.sameScheme?new m(b,h):l.enabled()?new l(a,b):new m(b,k)},d.prototype.doXhr=function(a,b){var c=this,e=g.addPath(a,"/info");n("doXhr",e),this.xo=d._getReceiver(a,e,b),this.timeoutRef=setTimeout(function(){n("timeout"),c._cleanup(!1),c.emit("finish")},d.timeout),this.xo.once("finish",function(a,b){n("finish",a,b),c._cleanup(!0),c.emit("finish",a,b)})},d.prototype._cleanup=function(a){n("_cleanup"),clearTimeout(this.timeoutRef),this.timeoutRef=null,!a&&this.xo&&this.xo.close(),this.xo=null},d.prototype.close=function(){n("close"),this.removeAllListeners(),this._cleanup(!1)},d.timeout=8e3,a.exports=d}).call(b,c(35))},function(a,b,c){"use strict";function d(){var a=this;e.call(this),this.to=setTimeout(function(){a.emit("finish",200,"{}")},d.timeout)}var e=c(48).EventEmitter,f=c(47);f(d,e),d.prototype.close=function(){clearTimeout(this.to)},d.timeout=2e3,a.exports=d},function(a,b,c){(function(b,d){"use strict";function e(a,b){var c=this;f.call(this);var e=function(){var d=c.ifr=new j(k.transportName,b,a);d.once("message",function(a){if(a){var b;try{b=h.parse(a)}catch(d){return l("bad json",a),c.emit("finish"),void c.close()}var e=b[0],f=b[1];c.emit("finish",e,f)}c.close()}),d.once("close",function(){c.emit("finish"),c.close()})};d.document.body?e():i.attachEvent("load",e)}var f=c(48).EventEmitter,g=c(47),h=c(68),i=c(36),j=c(67),k=c(92),l=function(){};"production"!==b.env.NODE_ENV&&(l=c(44)("sockjs-client:info-iframe")),g(e,f),e.enabled=function(){return j.enabled()},e.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null},a.exports=e}).call(b,c(35),function(){return this}())},function(a,b,c){"use strict";function d(a){var b=this;f.call(this),this.ir=new i(a,h),this.ir.once("finish",function(a,c){b.ir=null,b.emit("message",g.stringify([a,c]))})}var e=c(47),f=c(48).EventEmitter,g=c(68),h=c(59),i=c(93);e(d,f),d.transportName="iframe-info-receiver",d.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null),this.removeAllListeners()},a.exports=d},function(a,b,c){(function(b){"use strict";function d(a,b){e.call(this);var c=this,d=+new Date;this.xo=new b("GET",a),this.xo.once("finish",function(a,b){var e,f;if(200===a){if(f=+new Date-d,b)try{e=g.parse(b)}catch(j){i("bad json",b)}h.isObject(e)||(e={})}c.emit("finish",e,f),c.removeAllListeners()})}var e=c(48).EventEmitter,f=c(47),g=c(68),h=c(72),i=function(){};"production"!==b.env.NODE_ENV&&(i=c(44)("sockjs-client:info-ajax")),f(d,e),d.prototype.close=function(){this.removeAllListeners(),this.xo.close()},a.exports=d}).call(b,c(35))},function(a,b,c){(function(b){"use strict";var d=c(39),e=c(36),f=c(68),g=c(95),h=c(92),i=c(71),j=c(86),k=function(){};"production"!==b.env.NODE_ENV&&(k=c(44)("sockjs-client:iframe-bootstrap")),a.exports=function(a,b){var c={};b.forEach(function(a){a.facadeTransport&&(c[a.facadeTransport.transportName]=a.facadeTransport)}),c[h.transportName]=h;var l;a.bootstrap_iframe=function(){var b;i.currentWindowId=j.hash.slice(1);var h=function(e){if(e.source===parent&&("undefined"==typeof l&&(l=e.origin),e.origin===l)){var h;try{h=f.parse(e.data)}catch(m){return void k("bad json",e.data)}if(h.windowId===i.currentWindowId)switch(h.type){case"s":var n;try{n=f.parse(h.data)}catch(m){k("bad json",h.data);break}var o=n[0],p=n[1],q=n[2],r=n[3];if(k(o,p,q,r),o!==a.version)throw new Error('Incompatibile SockJS! Main site uses: "'+o+'", the iframe: "'+a.version+'".');if(!d.isOriginEqual(q,j.href)||!d.isOriginEqual(r,j.href))throw new Error("Can't connect to different domain from within an iframe. ("+j.href+", "+q+", "+r+")");b=new g(new c[p](q,r));break;case"m":b._send(h.data);break;case"c":b&&b._close(),b=null}}};e.attachEvent("message",h),i.postMessage("s")}}}).call(b,c(35))},function(a,b,c){"use strict";function d(a){this._transport=a,a.on("message",this._transportMessage.bind(this)),a.on("close",this._transportClose.bind(this))}var e=c(68),f=c(71);d.prototype._transportClose=function(a,b){f.postMessage("c",e.stringify([a,b]))},d.prototype._transportMessage=function(a){f.postMessage("t",a)},d.prototype._send=function(a){this._transport.send(a)},d.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()},a.exports=d}]);